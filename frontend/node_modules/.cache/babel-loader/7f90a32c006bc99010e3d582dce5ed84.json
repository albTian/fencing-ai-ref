{"ast":null,"code":"/**\n    * @license\n    * Copyright 2021 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport { Pose as t } from \"@mediapipe/pose\";\nimport { loadGraphModel as e } from \"@tensorflow/tfjs-converter\";\nimport { Tensor as i, browser as n, util as r, tidy as o, tensor2d as s, image as a, expandDims as h, cast as l, add as u, mul as c, slice as p, sigmoid as f, squeeze as d, dispose as m, tensor1d as y, div as g, exp as v, sub as x, concat as w, reshape as k, clipByValue as b, getBackend as M, env as S, zeros as T, pad as P, scalar as _, argMax as F } from \"@tensorflow/tfjs-core\";\n\nvar _O = function O(t, e) {\n  return (_O = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (t, e) {\n    t.__proto__ = e;\n  } || function (t, e) {\n    for (var i in e) {\n      e.hasOwnProperty(i) && (t[i] = e[i]);\n    }\n  })(t, e);\n};\n\nfunction R(t, e) {\n  function i() {\n    this.constructor = t;\n  }\n\n  _O(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i());\n}\n\nvar _C = function C() {\n  return (_C = Object.assign || function (t) {\n    for (var e, i = 1, n = arguments.length; i < n; i++) {\n      for (var r in e = arguments[i]) {\n        Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n      }\n    }\n\n    return t;\n  }).apply(this, arguments);\n};\n\nfunction E(t, e, i, n) {\n  return new (i || (i = Promise))(function (r, o) {\n    function s(t) {\n      try {\n        h(n.next(t));\n      } catch (t) {\n        o(t);\n      }\n    }\n\n    function a(t) {\n      try {\n        h(n.throw(t));\n      } catch (t) {\n        o(t);\n      }\n    }\n\n    function h(t) {\n      var e;\n      t.done ? r(t.value) : (e = t.value, e instanceof i ? e : new i(function (t) {\n        t(e);\n      })).then(s, a);\n    }\n\n    h((n = n.apply(t, e || [])).next());\n  });\n}\n\nfunction A(t, e) {\n  var i,\n      n,\n      r,\n      o,\n      s = {\n    label: 0,\n    sent: function sent() {\n      if (1 & r[0]) throw r[1];\n      return r[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return o = {\n    next: a(0),\n    throw: a(1),\n    return: a(2)\n  }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n    return this;\n  }), o;\n\n  function a(o) {\n    return function (a) {\n      return function (o) {\n        if (i) throw new TypeError(\"Generator is already executing.\");\n\n        for (; s;) {\n          try {\n            if (i = 1, n && (r = 2 & o[0] ? n.return : o[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, o[1])).done) return r;\n\n            switch (n = 0, r && (o = [2 & o[0], r.value]), o[0]) {\n              case 0:\n              case 1:\n                r = o;\n                break;\n\n              case 4:\n                return s.label++, {\n                  value: o[1],\n                  done: !1\n                };\n\n              case 5:\n                s.label++, n = o[1], o = [0];\n                continue;\n\n              case 7:\n                o = s.ops.pop(), s.trys.pop();\n                continue;\n\n              default:\n                if (!(r = s.trys, (r = r.length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {\n                  s = 0;\n                  continue;\n                }\n\n                if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {\n                  s.label = o[1];\n                  break;\n                }\n\n                if (6 === o[0] && s.label < r[1]) {\n                  s.label = r[1], r = o;\n                  break;\n                }\n\n                if (r && s.label < r[2]) {\n                  s.label = r[2], s.ops.push(o);\n                  break;\n                }\n\n                r[2] && s.ops.pop(), s.trys.pop();\n                continue;\n            }\n\n            o = e.call(t, s);\n          } catch (t) {\n            o = [6, t], n = 0;\n          } finally {\n            i = r = 0;\n          }\n        }\n\n        if (5 & o[0]) throw o[1];\n        return {\n          value: o[0] ? o[1] : void 0,\n          done: !0\n        };\n      }([o, a]);\n    };\n  }\n}\n\nvar z = [\"nose\", \"left_eye\", \"right_eye\", \"left_ear\", \"right_ear\", \"left_shoulder\", \"right_shoulder\", \"left_elbow\", \"right_elbow\", \"left_wrist\", \"right_wrist\", \"left_hip\", \"right_hip\", \"left_knee\", \"right_knee\", \"left_ankle\", \"right_ankle\"],\n    I = [\"nose\", \"left_eye_inner\", \"left_eye\", \"left_eye_outer\", \"right_eye_inner\", \"right_eye\", \"right_eye_outer\", \"left_ear\", \"right_ear\", \"mouth_left\", \"mouth_right\", \"left_shoulder\", \"right_shoulder\", \"left_elbow\", \"right_elbow\", \"left_wrist\", \"right_wrist\", \"left_pinky\", \"right_pinky\", \"left_index\", \"right_index\", \"left_thumb\", \"right_thumb\", \"left_hip\", \"right_hip\", \"left_knee\", \"right_knee\", \"left_ankle\", \"right_ankle\", \"left_heel\", \"right_heel\", \"left_foot_index\", \"right_foot_index\"],\n    B = {\n  left: [1, 2, 3, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31],\n  right: [4, 5, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32],\n  middle: [0]\n},\n    N = {\n  left: [1, 3, 5, 7, 9, 11, 13, 15],\n  right: [2, 4, 6, 8, 10, 12, 14, 16],\n  middle: [0]\n},\n    L = [[0, 1], [0, 2], [1, 3], [2, 4], [5, 6], [5, 7], [5, 11], [6, 8], [6, 12], [7, 9], [8, 10], [11, 12], [11, 13], [12, 14], [13, 15], [14, 16]],\n    V = [[0, 1], [0, 4], [1, 2], [2, 3], [3, 7], [4, 5], [5, 6], [6, 8], [9, 10], [11, 12], [11, 13], [11, 23], [12, 14], [14, 16], [12, 24], [13, 15], [15, 17], [16, 18], [16, 20], [15, 17], [15, 19], [15, 21], [16, 22], [17, 19], [18, 20], [23, 25], [23, 24], [24, 26], [25, 27], [26, 28], [27, 29], [28, 30], [27, 31], [28, 32], [29, 31], [30, 32]],\n    K = {\n  runtime: \"mediapipe\",\n  enableSmoothing: !0,\n  modelType: \"full\"\n};\n\nvar D = function () {\n  function e(e) {\n    var i,\n        n = this;\n\n    switch (this.width = 0, this.height = 0, this.selfieMode = !1, this.poseSolution = new t({\n      locateFile: function locateFile(t, i) {\n        return e.solutionPath ? e.solutionPath.replace(/\\/+$/, \"\") + \"/\" + t : i + \"/\" + t;\n      }\n    }), e.modelType) {\n      case \"lite\":\n        i = 0;\n        break;\n\n      case \"heavy\":\n        i = 2;\n        break;\n\n      case \"full\":\n      default:\n        i = 1;\n    }\n\n    this.poseSolution.setOptions({\n      modelComplexity: i,\n      smoothLandmarks: e.enableSmoothing || !0,\n      selfieMode: this.selfieMode\n    }), this.poseSolution.onResults(function (t) {\n      n.height = t.image.height, n.width = t.image.width, null == t.poseLandmarks ? n.poses = [] : n.poses = [n.translateOutput(t.poseLandmarks, t.poseWorldLandmarks)];\n    });\n  }\n\n  return e.prototype.translateOutput = function (t, e) {\n    var i = this,\n        n = {\n      keypoints: t.map(function (t, e) {\n        return {\n          x: t.x * i.width,\n          y: t.y * i.height,\n          z: t.z,\n          score: t.visibility,\n          name: I[e]\n        };\n      })\n    };\n    return null != e && (n.keypoints3D = e.map(function (t, e) {\n      return {\n        x: t.x,\n        y: t.y,\n        z: t.z,\n        score: t.visibility,\n        name: I[e]\n      };\n    })), n;\n  }, e.prototype.estimatePoses = function (t, e, i) {\n    return E(this, void 0, void 0, function () {\n      return A(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return e && e.flipHorizontal && e.flipHorizontal !== this.selfieMode && (this.selfieMode = e.flipHorizontal, this.poseSolution.setOptions({\n              selfieMode: this.selfieMode\n            })), [4, this.poseSolution.send({\n              image: t\n            }, i)];\n\n          case 1:\n            return n.sent(), [2, this.poses];\n        }\n      });\n    });\n  }, e.prototype.dispose = function () {\n    this.poseSolution.close();\n  }, e.prototype.reset = function () {\n    this.poseSolution.reset();\n  }, e.prototype.initialize = function () {\n    return this.poseSolution.initialize();\n  }, e;\n}();\n\nfunction j(t) {\n  return E(this, void 0, void 0, function () {\n    var e, i;\n    return A(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return e = function (t) {\n            if (null == t) return _C({}, K);\n\n            var e = _C({}, t);\n\n            return e.runtime = \"mediapipe\", null == e.enableSmoothing && (e.enableSmoothing = K.enableSmoothing), null == e.modelType && (e.modelType = K.modelType), e;\n          }(t), [4, (i = new D(e)).initialize()];\n\n        case 1:\n          return n.sent(), [2, i];\n      }\n    });\n  });\n}\n\nfunction q(t) {\n  return t instanceof i ? {\n    height: t.shape[0],\n    width: t.shape[1]\n  } : {\n    height: t.height,\n    width: t.width\n  };\n}\n\nfunction H(t) {\n  return t - 2 * Math.PI * Math.floor((t + Math.PI) / (2 * Math.PI));\n}\n\nfunction U(t) {\n  return t instanceof i ? t : n.fromPixels(t);\n}\n\nfunction X(t, e) {\n  r.assert(0 !== t.width, function () {\n    return e + \" width cannot be 0.\";\n  }), r.assert(0 !== t.height, function () {\n    return e + \" height cannot be 0.\";\n  });\n}\n\nfunction W(t, e, i) {\n  var n = e.inputResolution,\n      r = e.keepAspectRatio,\n      u = q(t),\n      c = function (t, e) {\n    return e ? {\n      xCenter: e.xCenter * t.width,\n      yCenter: e.yCenter * t.height,\n      width: e.width * t.width,\n      height: e.height * t.height,\n      rotation: e.rotation\n    } : {\n      xCenter: .5 * t.width,\n      yCenter: .5 * t.height,\n      width: t.width,\n      height: t.height,\n      rotation: 0\n    };\n  }(u, i),\n      p = function (t, e, i) {\n    if (void 0 === i && (i = !1), !i) return {\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0\n    };\n    var n = e.height,\n        r = e.width;\n    X(e, \"targetSize\"), X(t, \"roi\");\n    var o,\n        s,\n        a = n / r,\n        h = t.height / t.width,\n        l = 0,\n        u = 0;\n    return a > h ? (o = t.width, s = t.width * a, u = (1 - h / a) / 2) : (o = t.height / a, s = t.height, l = (1 - a / h) / 2), t.width = o, t.height = s, {\n      top: u,\n      left: l,\n      right: l,\n      bottom: u\n    };\n  }(c, n, r);\n\n  return {\n    imageTensor: o(function () {\n      var e = U(t),\n          i = s(function (t, e, i, n) {\n        X(n, \"inputResolution\");\n        var r = 1 / e.width,\n            o = 1 / e.height,\n            s = t.xCenter,\n            a = t.yCenter,\n            h = Math.cos(t.rotation),\n            l = Math.sin(t.rotation),\n            u = i ? -1 : 1,\n            c = t.width,\n            p = t.height;\n        return [1 / n.width * c * h * u * r * e.width, 1 / n.height * -p * l * r * e.width, (-.5 * c * h * u + .5 * p * l + s) * r * e.width, 1 / n.width * c * l * u * o * e.height, 1 / n.height * p * h * o * e.height, (-.5 * p * h - .5 * c * l * u + a) * o * e.height, 0, 0];\n      }(c, u, !1, n), [1, 8]);\n      return a.transform(h(l(e, \"float32\")), i, \"bilinear\", \"nearest\", 0, [n.height, n.width]);\n    }),\n    padding: p\n  };\n}\n\nfunction Y(t) {\n  return null != t && null != t.currentTime;\n}\n\nvar G = function () {\n  function t(t) {\n    this.alpha = t, this.initialized = !1;\n  }\n\n  return t.prototype.apply = function (t, e) {\n    var i;\n    return this.initialized ? i = null == e ? this.storedValue + this.alpha * (t - this.storedValue) : this.storedValue + this.alpha * e * Math.asinh((t - this.storedValue) / e) : (i = t, this.initialized = !0), this.rawValue = t, this.storedValue = i, i;\n  }, t.prototype.applyWithAlpha = function (t, e, i) {\n    return this.alpha = e, this.apply(t, i);\n  }, t.prototype.hasLastRawValue = function () {\n    return this.initialized;\n  }, t.prototype.lastRawValue = function () {\n    return this.rawValue;\n  }, t.prototype.reset = function () {\n    this.initialized = !1;\n  }, t;\n}(),\n    Q = function () {\n  function t(t) {\n    this.frequency = t.frequency, this.minCutOff = t.minCutOff, this.beta = t.beta, this.thresholdCutOff = t.thresholdCutOff, this.thresholdBeta = t.thresholdBeta, this.derivateCutOff = t.derivateCutOff, this.x = new G(this.getAlpha(this.minCutOff)), this.dx = new G(this.getAlpha(this.derivateCutOff)), this.lastTimestamp = 0;\n  }\n\n  return t.prototype.apply = function (t, e, i) {\n    if (null == t) return t;\n    var n = Math.trunc(e);\n    if (this.lastTimestamp >= n) return t;\n    0 !== this.lastTimestamp && 0 !== n && (this.frequency = 1 / (1e-6 * (n - this.lastTimestamp))), this.lastTimestamp = n;\n    var r = this.x.hasLastRawValue() ? (t - this.x.lastRawValue()) * i * this.frequency : 0,\n        o = this.dx.applyWithAlpha(r, this.getAlpha(this.derivateCutOff)),\n        s = this.minCutOff + this.beta * Math.abs(o),\n        a = null != this.thresholdCutOff ? this.thresholdCutOff + this.thresholdBeta * Math.abs(o) : null;\n    return this.x.applyWithAlpha(t, this.getAlpha(s), a);\n  }, t.prototype.getAlpha = function (t) {\n    return 1 / (1 + this.frequency / (2 * Math.PI * t));\n  }, t;\n}(),\n    Z = function () {\n  function t(t) {\n    this.config = t;\n  }\n\n  return t.prototype.apply = function (t, e, i) {\n    var n = this;\n    if (null == t) return this.reset(), null;\n    this.initializeFiltersIfEmpty(t);\n    var r = 1;\n\n    if (!this.config.disableValueScaling) {\n      if (i < this.config.minAllowedObjectScale) return t.slice();\n      r = 1 / i;\n    }\n\n    return t.map(function (t, i) {\n      var o = _C({}, t, {\n        x: n.xFilters[i].apply(t.x, e, r),\n        y: n.yFilters[i].apply(t.y, e, r)\n      });\n\n      return null != t.z && (o.z = n.zFilters[i].apply(t.z, e, r)), o;\n    });\n  }, t.prototype.reset = function () {\n    this.xFilters = null, this.yFilters = null, this.zFilters = null;\n  }, t.prototype.initializeFiltersIfEmpty = function (t) {\n    var e = this;\n    null != this.xFilters && this.xFilters.length === t.length || (this.xFilters = t.map(function (t) {\n      return new Q(e.config);\n    }), this.yFilters = t.map(function (t) {\n      return new Q(e.config);\n    }), this.zFilters = t.map(function (t) {\n      return new Q(e.config);\n    }));\n  }, t;\n}();\n\nfunction $(t, e) {\n  return t.map(function (t) {\n    var i = _C({}, t, {\n      x: t.x / e.width,\n      y: t.y / e.height\n    });\n\n    return null != t.z && (t.z = t.z / e.width), i;\n  });\n}\n\nvar J = function () {\n  function t(t) {\n    this.config = t, this.window = [], this.lowPassFilter = new G(1), this.lastValue = 0, this.lastValueScale = 1, this.lastTimestamp = -1;\n  }\n\n  return t.prototype.apply = function (t, e, i) {\n    if (null == t) return t;\n    var n,\n        r = Math.trunc(e);\n    if (this.lastTimestamp >= r) return t;\n    if (-1 === this.lastTimestamp) n = 1;else {\n      for (var o = t * i - this.lastValue * this.lastValueScale, s = r - this.lastTimestamp, a = o, h = s, l = (1 + this.window.length) * (1e6 / 30), u = 0, c = this.window; u < c.length; u++) {\n        var p = c[u];\n        if (h + p.duration > l) break;\n        a += p.distance, h += p.duration;\n      }\n\n      var f = a / (1e-6 * h);\n      n = 1 - 1 / (1 + this.config.velocityScale * Math.abs(f)), this.window.unshift({\n        distance: o,\n        duration: s\n      }), this.window.length > this.config.windowSize && this.window.pop();\n    }\n    return this.lastValue = t, this.lastValueScale = i, this.lastTimestamp = r, this.lowPassFilter.applyWithAlpha(t, n);\n  }, t;\n}(),\n    tt = function () {\n  function t(t) {\n    this.config = t;\n  }\n\n  return t.prototype.apply = function (t, e, i) {\n    var n = this;\n    if (null == t) return this.reset(), null;\n    var r = 1;\n\n    if (!this.config.disableValueScaling) {\n      if (i < this.config.minAllowedObjectScale) return t.slice();\n      r = 1 / i;\n    }\n\n    return this.initializeFiltersIfEmpty(t), t.map(function (t, i) {\n      var o = _C({}, t, {\n        x: n.xFilters[i].apply(t.x, e, r),\n        y: n.yFilters[i].apply(t.y, e, r)\n      });\n\n      return null != t.z && (o.z = n.zFilters[i].apply(t.z, e, r)), o;\n    });\n  }, t.prototype.reset = function () {\n    this.xFilters = null, this.yFilters = null, this.zFilters = null;\n  }, t.prototype.initializeFiltersIfEmpty = function (t) {\n    var e = this;\n    null != this.xFilters && this.xFilters.length === t.length || (this.xFilters = t.map(function (t) {\n      return new J(e.config);\n    }), this.yFilters = t.map(function (t) {\n      return new J(e.config);\n    }), this.zFilters = t.map(function (t) {\n      return new J(e.config);\n    }));\n  }, t;\n}();\n\nfunction et(t, e) {\n  return t.map(function (t) {\n    var i = _C({}, t, {\n      x: t.x * e.width,\n      y: t.y * e.height\n    });\n\n    return null != t.z && (i.z = t.z * e.width), i;\n  });\n}\n\nvar it = function () {\n  function t(t) {\n    if (null != t.velocityFilter) this.keypointsFilter = new tt(t.velocityFilter);else {\n      if (null == t.oneEuroFilter) throw new Error(\"Either configure velocityFilter or oneEuroFilter, but got \" + t + \".\");\n      this.keypointsFilter = new Z(t.oneEuroFilter);\n    }\n  }\n\n  return t.prototype.apply = function (t, e, i, n, r) {\n    if (void 0 === n && (n = !1), null == t) return this.keypointsFilter.reset(), null;\n    var o = null != r ? function (t, e) {\n      return (t.width * e.width + t.height * e.height) / 2;\n    }(r, i) : 1,\n        s = n ? et(t, i) : t,\n        a = this.keypointsFilter.apply(s, e, o);\n    return n ? $(a, i) : a;\n  }, t;\n}();\n\nfunction nt(t, e) {\n  var i = function (t, e, i, n) {\n    var r = e - t,\n        o = n - i;\n    if (0 === r) throw new Error(\"Original min and max are both \" + t + \", range cannot be 0.\");\n    var s = o / r;\n    return {\n      scale: s,\n      offset: i - t * s\n    };\n  }(0, 255, e[0], e[1]);\n\n  return o(function () {\n    return u(c(t, i.scale), i.offset);\n  });\n}\n\nfunction rt(t, e, i) {\n  var n = i.rotationVectorStartKeypointIndex,\n      r = i.rotationVectorEndKeypointIndex,\n      o = t.locationData,\n      s = o.relativeKeypoints[n].x * e.width,\n      a = o.relativeKeypoints[n].y * e.height,\n      h = o.relativeKeypoints[r].x * e.width,\n      l = o.relativeKeypoints[r].y * e.height,\n      u = 2 * Math.sqrt((h - s) * (h - s) + (l - a) * (l - a)),\n      c = function (t, e, i) {\n    var n,\n        r = t.locationData,\n        o = i.rotationVectorStartKeypointIndex,\n        s = i.rotationVectorEndKeypointIndex;\n    n = i.rotationVectorTargetAngle ? i.rotationVectorTargetAngle : Math.PI * i.rotationVectorTargetAngleDegree / 180;\n    var a = r.relativeKeypoints[o].x * e.width,\n        h = r.relativeKeypoints[o].y * e.height,\n        l = r.relativeKeypoints[s].x * e.width,\n        u = r.relativeKeypoints[s].y * e.height;\n    return H(n - Math.atan2(-(u - h), l - a));\n  }(t, e, i);\n\n  return {\n    xCenter: s / e.width,\n    yCenter: a / e.height,\n    width: u / e.width,\n    height: u / e.height,\n    rotation: c\n  };\n}\n\nfunction ot(t, e, i, n) {\n  return 1 === n ? .5 * (t + e) : t + (e - t) * i / (n - 1);\n}\n\nfunction st(t, e) {\n  return o(function () {\n    var i = function (t) {\n      return o(function () {\n        var e = p(t, [0, 0, 0], [1, -1, 1]);\n        return [f(e), p(t, [0, 0, 1], [1, -1, -1])];\n      });\n    }(e.predict(t)),\n        n = i[0],\n        r = i[1];\n\n    return {\n      boxes: d(r),\n      scores: d(n)\n    };\n  });\n}\n\nfunction at(t) {\n  for (var e = {\n    locationData: {\n      relativeKeypoints: []\n    }\n  }, i = Number.MAX_SAFE_INTEGER, n = Number.MIN_SAFE_INTEGER, r = Number.MAX_SAFE_INTEGER, o = Number.MIN_SAFE_INTEGER, s = 0; s < t.length; ++s) {\n    var a = t[s];\n    i = Math.min(i, a.x), n = Math.max(n, a.x), r = Math.min(r, a.y), o = Math.max(o, a.y), e.locationData.relativeKeypoints.push({\n      x: a.x,\n      y: a.y\n    });\n  }\n\n  return e.locationData.relativeBoundingBox = {\n    xMin: i,\n    yMin: r,\n    xMax: n,\n    yMax: o,\n    width: n - i,\n    height: o - r\n  }, e;\n}\n\nfunction ht(t, e, i, n) {\n  return E(this, void 0, void 0, function () {\n    var r, o, h, l, u;\n    return A(this, function (c) {\n      switch (c.label) {\n        case 0:\n          return r = s(t.map(function (t) {\n            return [t.locationData.relativeBoundingBox.yMin, t.locationData.relativeBoundingBox.xMin, t.locationData.relativeBoundingBox.yMax, t.locationData.relativeBoundingBox.xMax];\n          })), o = y(t.map(function (t) {\n            return t.score[0];\n          })), [4, a.nonMaxSuppressionAsync(r, o, e, i, n)];\n\n        case 1:\n          return [4, (h = c.sent()).array()];\n\n        case 2:\n          return l = c.sent(), u = t.filter(function (t, e) {\n            return l.indexOf(e) > -1;\n          }), m([r, o, h]), [2, u];\n      }\n    });\n  });\n}\n\nfunction lt(t, e, i) {\n  return E(this, void 0, void 0, function () {\n    var n, r, o, s, a, h, l, u, c, p, f, m, y, g, v, x, w, k, b, M, S, T, P, _;\n\n    return A(this, function (F) {\n      switch (F.label) {\n        case 0:\n          if (n = d(e, [0]), r = n.shape, o = r[0], s = r[1], a = r[2], t.length !== a) throw new Error(\"Expected heatmap to have same number of channels as the number of landmarks. But got landmarks length: \" + t.length + \", heatmap length: \" + a);\n          return h = [], [4, n.buffer()];\n\n        case 1:\n          for (l = F.sent(), u = 0; u < t.length; u++) {\n            if (c = t[u], p = _C({}, c), h.push(p), f = Math.trunc(p.x * s), m = Math.trunc(p.y * o), !(f < 0 || f >= s || m < 0 || f >= o)) {\n              for (y = Math.trunc((i.kernelSize - 1) / 2), g = Math.max(0, f - y), v = Math.min(s, f + y + 1), x = Math.max(0, m - y), w = Math.min(o, m + y + 1), k = 0, b = 0, M = 0, S = 0, T = x; T < w; ++T) {\n                for (P = g; P < v; ++P) {\n                  _ = l.get(T, P, u), k += _, S = Math.max(S, _), b += P * _, M += T * _;\n                }\n              }\n\n              S >= i.minConfidenceToRefine && k > 0 && (p.x = b / s / k, p.y = M / o / k);\n            }\n          }\n\n          return n.dispose(), [2, h];\n      }\n    });\n  });\n}\n\nfunction ut(t, e, i) {\n  return E(this, void 0, void 0, function () {\n    var n, r, s, a, h;\n    return A(this, function (l) {\n      switch (l.label) {\n        case 0:\n          return n = t[0], r = t[1], s = function (t, e, i) {\n            return o(function () {\n              var n, r, o, s;\n              i.reverseOutputOrder ? (r = d(p(t, [0, i.boxCoordOffset + 0], [-1, 1])), n = d(p(t, [0, i.boxCoordOffset + 1], [-1, 1])), s = d(p(t, [0, i.boxCoordOffset + 2], [-1, 1])), o = d(p(t, [0, i.boxCoordOffset + 3], [-1, 1]))) : (n = d(p(t, [0, i.boxCoordOffset + 0], [-1, 1])), r = d(p(t, [0, i.boxCoordOffset + 1], [-1, 1])), o = d(p(t, [0, i.boxCoordOffset + 2], [-1, 1])), s = d(p(t, [0, i.boxCoordOffset + 3], [-1, 1]))), r = u(c(g(r, i.xScale), e.w), e.x), n = u(c(g(n, i.yScale), e.h), e.y), i.applyExponentialOnBoxSize ? (o = c(v(g(o, i.hScale)), e.h), s = c(v(g(s, i.wScale)), e.w)) : (o = c(g(o, i.hScale), e.h), s = c(g(s, i.wScale), e.h));\n              var a = x(n, g(o, 2)),\n                  h = x(r, g(s, 2)),\n                  l = u(n, g(o, 2)),\n                  f = u(r, g(s, 2)),\n                  m = w([k(a, [i.numBoxes, 1]), k(h, [i.numBoxes, 1]), k(l, [i.numBoxes, 1]), k(f, [i.numBoxes, 1])], 1);\n              if (i.numKeypoints) for (var y = 0; y < i.numKeypoints; ++y) {\n                var b = i.keypointCoordOffset + y * i.numValuesPerKeypoint,\n                    M = void 0,\n                    S = void 0;\n                i.reverseOutputOrder ? (M = d(p(t, [0, b], [-1, 1])), S = d(p(t, [0, b + 1], [-1, 1]))) : (S = d(p(t, [0, b], [-1, 1])), M = d(p(t, [0, b + 1], [-1, 1])));\n                var T = u(c(g(M, i.xScale), e.w), e.x),\n                    P = u(c(g(S, i.yScale), e.h), e.y);\n                m = w([m, k(T, [i.numBoxes, 1]), k(P, [i.numBoxes, 1])], 1);\n              }\n              return m;\n            });\n          }(r, e, i), a = o(function () {\n            var t = n;\n            return i.sigmoidScore ? (null != i.scoreClippingThresh && (t = b(n, -i.scoreClippingThresh, i.scoreClippingThresh)), t = f(t)) : t;\n          }), [4, ct(s, a, i)];\n\n        case 1:\n          return h = l.sent(), m([s, a]), [2, h];\n      }\n    });\n  });\n}\n\nfunction ct(t, e, i) {\n  return E(this, void 0, void 0, function () {\n    var n, r, o, s, a, h, l, u, c, p, f, d;\n    return A(this, function (m) {\n      switch (m.label) {\n        case 0:\n          return n = [], [4, t.data()];\n\n        case 1:\n          return r = m.sent(), [4, e.data()];\n\n        case 2:\n          for (o = m.sent(), s = 0; s < i.numBoxes; ++s) {\n            if (!(null != i.minScoreThresh && o[s] < i.minScoreThresh || (a = s * i.numCoords, h = pt(r[a + 0], r[a + 1], r[a + 2], r[a + 3], o[s], i.flipVertically, s), (l = h.locationData.relativeBoundingBox).width < 0 || l.height < 0))) {\n              if (i.numKeypoints > 0) for ((u = h.locationData).relativeKeypoints = [], c = i.numKeypoints * i.numValuesPerKeypoint, p = 0; p < c; p += i.numValuesPerKeypoint) {\n                f = a + i.keypointCoordOffset + p, d = {\n                  x: r[f + 0],\n                  y: i.flipVertically ? 1 - r[f + 1] : r[f + 1]\n                }, u.relativeKeypoints.push(d);\n              }\n              n.push(h);\n            }\n          }\n\n          return [2, n];\n      }\n    });\n  });\n}\n\nfunction pt(t, e, i, n, r, o, s) {\n  return {\n    score: [r],\n    ind: s,\n    locationData: {\n      relativeBoundingBox: {\n        xMin: e,\n        yMin: o ? 1 - i : t,\n        xMax: n,\n        yMax: o ? 1 - t : i,\n        width: n - e,\n        height: i - t\n      }\n    }\n  };\n}\n\nfunction ft(t, e, i, n) {\n  return void 0 === i && (i = !1), void 0 === n && (n = !1), E(this, void 0, void 0, function () {\n    var r, o, s, a, h, l, u, c;\n    return A(this, function (p) {\n      switch (p.label) {\n        case 0:\n          return r = t.size, o = r / e.numLandmarks, [4, t.data()];\n\n        case 1:\n          for (s = p.sent(), a = [], h = 0; h < e.numLandmarks; ++h) {\n            l = h * o, (c = {\n              x: 0,\n              y: 0\n            }).x = i ? e.inputImageWidth - s[l] : s[l], o > 1 && (c.y = n ? e.inputImageHeight - s[l + 1] : s[l + 1]), o > 2 && (c.z = s[l + 2]), o > 3 && (c.score = (f = s[l + 3], 1 / (1 + Math.exp(-f)))), a.push(c);\n          }\n\n          for (u = 0; u < a.length; ++u) {\n            (c = a[u]).x = c.x / e.inputImageWidth, c.y = c.y / e.inputImageHeight, c.z = c.z / e.inputImageWidth / (e.normalizeZ || 1);\n          }\n\n          return [2, a];\n      }\n\n      var f;\n    });\n  });\n}\n\nfunction dt(t, e, i) {\n  var n = t.width,\n      r = t.height,\n      o = t.rotation;\n  if (null == i.rotation && null == i.rotationDegree || (o = function (t, e) {\n    null != e.rotation ? t += e.rotation : null != e.rotationDegree && (t += Math.PI * e.rotationDegree / 180);\n    return H(t);\n  }(o, i)), 0 === o) t.xCenter = t.xCenter + n * i.shiftX, t.yCenter = t.yCenter + r * i.shiftY;else {\n    var s = (e.width * n * i.shiftX * Math.cos(o) - e.height * r * i.shiftY * Math.sin(o)) / e.width,\n        a = (e.width * n * i.shiftX * Math.sin(o) + e.height * r * i.shiftY * Math.cos(o)) / e.height;\n    t.xCenter = t.xCenter + s, t.yCenter = t.yCenter + a;\n  }\n\n  if (i.squareLong) {\n    var h = Math.max(n * e.width, r * e.height);\n    n = h / e.width, r = h / e.height;\n  } else if (i.squareShort) {\n    var l = Math.min(n * e.width, r * e.height);\n    n = l / e.width, r = l / e.height;\n  }\n\n  return t.width = n * i.scaleX, t.height = r * i.scaleY, t;\n}\n\nvar mt = function () {\n  function t(t) {\n    this.alpha = t.alpha;\n  }\n\n  return t.prototype.apply = function (t) {\n    var e = this;\n    if (null == t) return this.visibilityFilters = null, null;\n    null != this.visibilityFilters && this.visibilityFilters.length === t.length || (this.visibilityFilters = t.map(function (t) {\n      return new G(e.alpha);\n    }));\n\n    for (var i = [], n = 0; n < t.length; ++n) {\n      var r = t[n],\n          o = _C({}, r);\n\n      o.score = this.visibilityFilters[n].apply(r.score), i.push(o);\n    }\n\n    return i;\n  }, t;\n}(),\n    yt = {\n  reduceBoxesInLowestlayer: !1,\n  interpolatedScaleAspectRatio: 1,\n  featureMapHeight: [],\n  featureMapWidth: [],\n  numLayers: 5,\n  minScale: .1484375,\n  maxScale: .75,\n  inputSizeHeight: 224,\n  inputSizeWidth: 224,\n  anchorOffsetX: .5,\n  anchorOffsetY: .5,\n  strides: [8, 16, 32, 32, 32],\n  aspectRatios: [1],\n  fixedAnchorSize: !0\n},\n    gt = {\n  runtime: \"tfjs\",\n  modelType: \"full\",\n  enableSmoothing: !0,\n  detectorModelUrl: \"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/detector/1\",\n  landmarkModelUrl: \"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/1\"\n},\n    vt = {\n  maxPoses: 1,\n  flipHorizontal: !1\n},\n    xt = {\n  applyExponentialOnBoxSize: !1,\n  flipVertically: !1,\n  ignoreClasses: [],\n  numClasses: 1,\n  numBoxes: 2254,\n  numCoords: 12,\n  boxCoordOffset: 0,\n  keypointCoordOffset: 4,\n  numKeypoints: 4,\n  numValuesPerKeypoint: 2,\n  sigmoidScore: !0,\n  scoreClippingThresh: 100,\n  reverseOutputOrder: !0,\n  xScale: 224,\n  yScale: 224,\n  hScale: 224,\n  wScale: 224,\n  minScoreThresh: .5\n},\n    wt = -1,\n    kt = .3,\n    bt = {\n  shiftX: 0,\n  shiftY: 0,\n  scaleX: 1.25,\n  scaleY: 1.25,\n  squareLong: !0\n},\n    Mt = {\n  inputResolution: {\n    width: 224,\n    height: 224\n  },\n  keepAspectRatio: !0\n},\n    St = {\n  inputResolution: {\n    width: 256,\n    height: 256\n  },\n  keepAspectRatio: !0\n},\n    Tt = {\n  numLandmarks: 39,\n  inputImageWidth: 256,\n  inputImageHeight: 256\n},\n    Pt = {\n  numLandmarks: 39,\n  inputImageWidth: 1,\n  inputImageHeight: 1\n},\n    _t = {\n  kernelSize: 7,\n  minConfidenceToRefine: .5\n},\n    Ft = {\n  alpha: .1\n},\n    Ot = {\n  oneEuroFilter: {\n    frequency: 30,\n    minCutOff: .05,\n    beta: 80,\n    derivateCutOff: 1,\n    minAllowedObjectScale: 1e-6\n  }\n},\n    Rt = {\n  oneEuroFilter: {\n    frequency: 30,\n    minCutOff: .01,\n    beta: 10,\n    derivateCutOff: 1,\n    minAllowedObjectScale: 1e-6\n  }\n},\n    Ct = {\n  oneEuroFilter: {\n    frequency: 30,\n    minCutOff: .1,\n    beta: 40,\n    derivateCutOff: 1,\n    minAllowedObjectScale: 1e-6,\n    disableValueScaling: !0\n  }\n};\n\nvar Et = function () {\n  function t(t, e, i, n) {\n    this.detectorModel = t, this.landmarkModel = e, this.enableSmoothing = i, this.modelType = n, this.regionOfInterest = null, this.anchors = function (t) {\n      for (var e = [], i = 0; i < t.numLayers;) {\n        for (var n = [], r = [], o = [], s = [], a = i; a < t.strides.length && t.strides[a] === t.strides[i];) {\n          var h = ot(t.minScale, t.maxScale, a, t.strides.length);\n          if (0 === a && t.reduceBoxesInLowestLayer) o.push(1), o.push(2), o.push(.5), s.push(.1), s.push(h), s.push(h);else {\n            for (var l = 0; l < t.aspectRatios.length; ++l) {\n              o.push(t.aspectRatios[l]), s.push(h);\n            }\n\n            if (t.interpolatedScaleAspectRatio > 0) {\n              var u = a === t.strides.length - 1 ? 1 : ot(t.minScale, t.maxScale, a + 1, t.strides.length);\n              s.push(Math.sqrt(h * u)), o.push(t.interpolatedScaleAspectRatio);\n            }\n          }\n          a++;\n        }\n\n        for (var c = 0; c < o.length; ++c) {\n          var p = Math.sqrt(o[c]);\n          n.push(s[c] / p), r.push(s[c] * p);\n        }\n\n        var f = 0,\n            d = 0;\n        if (t.featureMapHeight.length > 0) f = t.featureMapHeight[i], d = t.featureMapWidth[i];else {\n          var m = t.strides[i];\n          f = Math.ceil(t.inputSizeHeight / m), d = Math.ceil(t.inputSizeWidth / m);\n        }\n\n        for (var y = 0; y < f; ++y) {\n          for (var g = 0; g < d; ++g) {\n            for (var v = 0; v < n.length; ++v) {\n              var x = {\n                xCenter: (g + t.anchorOffsetX) / d,\n                yCenter: (y + t.anchorOffsetY) / f,\n                width: 0,\n                height: 0\n              };\n              t.fixedAnchorSize ? (x.width = 1, x.height = 1) : (x.width = r[v], x.height = n[v]), e.push(x);\n            }\n          }\n        }\n\n        i = a;\n      }\n\n      return e;\n    }(yt);\n    var r = y(this.anchors.map(function (t) {\n      return t.width;\n    })),\n        o = y(this.anchors.map(function (t) {\n      return t.height;\n    })),\n        s = y(this.anchors.map(function (t) {\n      return t.xCenter;\n    })),\n        a = y(this.anchors.map(function (t) {\n      return t.yCenter;\n    }));\n    this.anchorTensor = {\n      x: s,\n      y: a,\n      w: r,\n      h: o\n    };\n  }\n\n  return t.prototype.estimatePoses = function (t, e, i) {\n    return E(this, void 0, void 0, function () {\n      var n, r, s, a, h, u, c, p, f, d, m, y, g, v, x, w, k, b;\n      return A(this, function (M) {\n        switch (M.label) {\n          case 0:\n            return n = function (t) {\n              var e;\n              if (null == (e = null == t ? vt : _C({}, t)).maxPoses && (e.maxPoses = 1), e.maxPoses <= 0) throw new Error(\"Invalid maxPoses \" + e.maxPoses + \". Should be > 0.\");\n              if (e.maxPoses > 1) throw new Error(\"Multi-pose detection is not implemented yet. Please set maxPoses to 1.\");\n              return e;\n            }(e), null == t ? (this.reset(), [2, []]) : (this.maxPoses = n.maxPoses, this.timestamp = null != i ? 1e3 * i : Y(t) ? 1e6 * t.currentTime : null, r = q(t), s = o(function () {\n              return l(U(t), \"float32\");\n            }), null != (a = this.regionOfInterest) ? [3, 2] : [4, this.detectPose(s)]);\n\n          case 1:\n            if (0 === (h = M.sent()).length) return this.reset(), s.dispose(), [2, []];\n            u = h[0], a = this.poseDetectionToRoi(u, r), M.label = 2;\n\n          case 2:\n            return [4, this.poseLandmarksByRoi(a, s)];\n\n          case 3:\n            return c = M.sent(), s.dispose(), null == c ? (this.reset(), [2, []]) : (p = c.actualLandmarks, f = c.auxiliaryLandmarks, d = c.poseScore, m = c.actualWorldLandmarks, y = this.poseLandmarkFiltering(p, f, m, r), g = y.actualLandmarksFiltered, v = y.auxiliaryLandmarksFiltered, x = y.actualWorldLandmarksFiltered, w = this.poseLandmarksToRoi(v, r), this.regionOfInterest = w, null != (k = null != g ? et(g, r) : null) && k.forEach(function (t, e) {\n              t.name = I[e];\n            }), null != (b = x) && b.forEach(function (t, e) {\n              t.name = I[e];\n            }), [2, [{\n              score: d,\n              keypoints: k,\n              keypoints3D: b\n            }]]);\n        }\n      });\n    });\n  }, t.prototype.dispose = function () {\n    this.detectorModel.dispose(), this.landmarkModel.dispose(), m([this.anchorTensor.x, this.anchorTensor.y, this.anchorTensor.w, this.anchorTensor.h]);\n  }, t.prototype.reset = function () {\n    this.regionOfInterest = null, this.visibilitySmoothingFilterActual = null, this.visibilitySmoothingFilterAuxiliary = null, this.landmarksSmoothingFilterActual = null, this.landmarksSmoothingFilterAuxiliary = null;\n  }, t.prototype.detectPose = function (t) {\n    return E(this, void 0, void 0, function () {\n      var e, i, n, r, o, s, a, h, l;\n      return A(this, function (u) {\n        switch (u.label) {\n          case 0:\n            return e = W(t, Mt), i = e.imageTensor, n = e.padding, r = nt(i, [-1, 1]), o = st(r, this.detectorModel), s = o.boxes, [4, ut([a = o.scores, s], this.anchorTensor, xt)];\n\n          case 1:\n            return [4, ht(u.sent(), this.maxPoses, kt, wt)];\n\n          case 2:\n            return h = u.sent(), l = function (t, e) {\n              void 0 === t && (t = []);\n\n              for (var i = e.left, n = e.top, r = e.left + e.right, o = e.top + e.bottom, s = 0; s < t.length; s++) {\n                var a = t[s],\n                    h = a.locationData.relativeBoundingBox,\n                    l = (h.xMin - i) / (1 - r),\n                    u = (h.yMin - n) / (1 - o),\n                    c = h.width / (1 - r),\n                    p = h.height / (1 - o);\n                h.xMin = l, h.yMin = u, h.width = c, h.height = p;\n\n                for (var f = 0; f < a.locationData.relativeKeypoints.length; ++f) {\n                  var d = a.locationData.relativeKeypoints[f],\n                      m = (d.x - i) / (1 - r),\n                      y = (d.y - n) / (1 - o);\n                  d.x = m, d.y = y;\n                }\n              }\n\n              return t;\n            }(h, n), m([i, r, a, s]), [2, l];\n        }\n      });\n    });\n  }, t.prototype.poseDetectionToRoi = function (t, e) {\n    return 0, 1, dt(rt(t, e, {\n      rotationVectorEndKeypointIndex: 1,\n      rotationVectorStartKeypointIndex: 0,\n      rotationVectorTargetAngleDegree: 90\n    }), e, bt);\n  }, t.prototype.poseLandmarksByRoi = function (t, e) {\n    return E(this, void 0, void 0, function () {\n      var i, n, r, o, s, a, h, l, u, c, p, f, d, y, g, v, x, w, k, b;\n      return A(this, function (M) {\n        switch (M.label) {\n          case 0:\n            if (i = W(e, St, t), n = i.imageTensor, r = i.padding, o = nt(n, [0, 1]), \"lite\" !== this.modelType && \"full\" !== this.modelType && \"heavy\" !== this.modelType) throw new Error(\"Model type must be one of lite, full or heavy,but got \" + this.modelType);\n            return s = this.landmarkModel.execute(o, [\"ld_3d\", \"output_poseflag\", \"activation_heatmap\", \"world_3d\"]), a = s[0], h = s[1], l = s[2], u = s[3], [4, h.data()];\n\n          case 1:\n            return (c = M.sent()[0]) < .5 ? (m(s), m([n, o]), [2, null]) : [4, ft(a, Tt)];\n\n          case 2:\n            return [4, lt(p = M.sent(), l, _t)];\n\n          case 3:\n            return f = M.sent(), d = function (t, e) {\n              var i = e.left,\n                  n = e.top,\n                  r = e.left + e.right,\n                  o = e.top + e.bottom;\n              return t.map(function (t) {\n                return _C({}, t, {\n                  x: (t.x - i) / (1 - r),\n                  y: (t.y - n) / (1 - o),\n                  z: t.z / (1 - r)\n                });\n              });\n            }(f, r), y = function (t, e, i) {\n              void 0 === i && (i = {\n                ignoreRotation: !1\n              });\n\n              for (var n = [], r = 0, o = t; r < o.length; r++) {\n                var s = o[r],\n                    a = s.x - .5,\n                    h = s.y - .5,\n                    l = i.ignoreRotation ? 0 : e.rotation,\n                    u = Math.cos(l) * a - Math.sin(l) * h,\n                    c = Math.sin(l) * a + Math.cos(l) * h;\n                u = u * e.width + e.xCenter, c = c * e.height + e.yCenter;\n\n                var p = s.z * e.width,\n                    f = _C({}, s);\n\n                f.x = u, f.y = c, f.z = p, n.push(f);\n              }\n\n              return n;\n            }(d, t), g = y.slice(0, 33), v = y.slice(33, 35), [4, ft(u, Pt)];\n\n          case 4:\n            return x = M.sent(), w = function (t, e, i) {\n              void 0 === i && (i = !0);\n\n              for (var n = [], r = 0; r < t.length; r++) {\n                var o = _C({}, e[r]);\n\n                i && (o.score = t[r].score), n.push(o);\n              }\n\n              return n;\n            }(p, x, !0), k = function (t, e) {\n              for (var i = [], n = 0, r = t; n < r.length; n++) {\n                var o = r[n],\n                    s = o.x,\n                    a = o.y,\n                    h = e.rotation,\n                    l = Math.cos(h) * s - Math.sin(h) * a,\n                    u = Math.sin(h) * s + Math.cos(h) * a,\n                    c = _C({}, o);\n\n                c.x = l, c.y = u, i.push(c);\n              }\n\n              return i;\n            }(w, t), b = k.slice(0, 33), m(s), m([n, o]), [2, {\n              actualLandmarks: g,\n              auxiliaryLandmarks: v,\n              poseScore: c,\n              actualWorldLandmarks: b\n            }];\n        }\n      });\n    });\n  }, t.prototype.poseLandmarksToRoi = function (t, e) {\n    return dt(rt(at(t), e, {\n      rotationVectorStartKeypointIndex: 0,\n      rotationVectorEndKeypointIndex: 1,\n      rotationVectorTargetAngleDegree: 90\n    }), e, bt);\n  }, t.prototype.poseLandmarkFiltering = function (t, e, i, n) {\n    var r, o, s;\n\n    if (null != this.timestamp && this.enableSmoothing) {\n      var a = rt(at(e), n, {\n        rotationVectorEndKeypointIndex: 0,\n        rotationVectorStartKeypointIndex: 1,\n        rotationVectorTargetAngleDegree: 90\n      });\n      null == this.visibilitySmoothingFilterActual && (this.visibilitySmoothingFilterActual = new mt(Ft)), r = this.visibilitySmoothingFilterActual.apply(t), null == this.visibilitySmoothingFilterAuxiliary && (this.visibilitySmoothingFilterAuxiliary = new mt(Ft)), o = this.visibilitySmoothingFilterAuxiliary.apply(e), s = this.visibilitySmoothingFilterActual.apply(i), null == this.landmarksSmoothingFilterActual && (this.landmarksSmoothingFilterActual = new it(Ot)), r = this.landmarksSmoothingFilterActual.apply(r, this.timestamp, n, !0, a), null == this.landmarksSmoothingFilterAuxiliary && (this.landmarksSmoothingFilterAuxiliary = new it(Rt)), o = this.landmarksSmoothingFilterAuxiliary.apply(o, this.timestamp, n, !0, a), null == this.worldLandmarksSmoothingFilterActual && (this.worldLandmarksSmoothingFilterActual = new it(Ct)), s = this.worldLandmarksSmoothingFilterActual.apply(i, this.timestamp);\n    } else r = t, o = e, s = i;\n\n    return {\n      actualLandmarksFiltered: r,\n      auxiliaryLandmarksFiltered: o,\n      actualWorldLandmarksFiltered: s\n    };\n  }, t;\n}();\n\nfunction At(t) {\n  return E(this, void 0, void 0, function () {\n    var i, n, r, o, s, a;\n    return A(this, function (h) {\n      switch (h.label) {\n        case 0:\n          return i = function (t) {\n            var e = _C({}, null == t ? gt : t);\n\n            if (null == e.enableSmoothing && (e.enableSmoothing = gt.enableSmoothing), null == e.modelType && (e.modelType = gt.modelType), null == e.detectorModelUrl && (e.detectorModelUrl = gt.detectorModelUrl), null == e.landmarkModelUrl) switch (e.modelType) {\n              case \"lite\":\n                e.landmarkModelUrl = \"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/lite/1\";\n                break;\n\n              case \"heavy\":\n                e.landmarkModelUrl = \"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/heavy/1\";\n                break;\n\n              case \"full\":\n              default:\n                e.landmarkModelUrl = \"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/1\";\n            }\n            return e;\n          }(t), n = i.detectorModelUrl.indexOf(\"https://tfhub.dev\") > -1, r = i.landmarkModelUrl.indexOf(\"https://tfhub.dev\") > -1, [4, Promise.all([e(i.detectorModelUrl, {\n            fromTFHub: n\n          }), e(i.landmarkModelUrl, {\n            fromTFHub: r\n          })])];\n\n        case 1:\n          return o = h.sent(), s = o[0], a = o[1], [2, new Et(s, a, i.enableSmoothing, i.modelType)];\n      }\n    });\n  });\n}\n\nvar zt,\n    It,\n    Bt = function () {\n  function t(t) {\n    !function (t) {\n      if (t.maxTracks < 1) throw new Error(\"Must specify 'maxTracks' to be at least 1, but encountered \" + t.maxTracks);\n      if (t.maxAge <= 0) throw new Error(\"Must specify 'maxAge' to be positive, but encountered \" + t.maxAge);\n\n      if (void 0 !== t.keypointTrackerParams) {\n        if (t.keypointTrackerParams.keypointConfidenceThreshold < 0 || t.keypointTrackerParams.keypointConfidenceThreshold > 1) throw new Error(\"Must specify 'keypointConfidenceThreshold' to be in the range [0, 1], but encountered \" + t.keypointTrackerParams.keypointConfidenceThreshold);\n        if (t.keypointTrackerParams.minNumberOfKeypoints < 1) throw new Error(\"Must specify 'minNumberOfKeypoints' to be at least 1, but encountered \" + t.keypointTrackerParams.minNumberOfKeypoints);\n\n        for (var e = 0, i = t.keypointTrackerParams.keypointFalloff; e < i.length; e++) {\n          var n = i[e];\n          if (n <= 0) throw new Error(\"Must specify each keypoint falloff parameterto be positive but encountered \" + n);\n        }\n      }\n    }(t), this.tracks = [], this.maxTracks = t.maxTracks, this.maxAge = 1e3 * t.maxAge, this.minSimilarity = t.minSimilarity, this.nextID = 1;\n  }\n\n  return t.prototype.apply = function (t, e) {\n    this.filterOldTracks(e);\n    var i = this.computeSimilarity(t);\n    return this.assignTracks(t, i, e), this.updateTracks(e), t;\n  }, t.prototype.getTracks = function () {\n    return this.tracks.slice();\n  }, t.prototype.getTrackIDs = function () {\n    return new Set(this.tracks.map(function (t) {\n      return t.id;\n    }));\n  }, t.prototype.filterOldTracks = function (t) {\n    var e = this;\n    this.tracks = this.tracks.filter(function (i) {\n      return t - i.lastTimestamp <= e.maxAge;\n    });\n  }, t.prototype.assignTracks = function (t, e, i) {\n    for (var n = Array.from(Array(e[0].length).keys()), r = [], o = 0, s = Array.from(Array(t.length).keys()); o < s.length; o++) {\n      var a = s[o];\n\n      if (0 !== n.length) {\n        for (var h = -1, l = -1, u = 0, c = n; u < c.length; u++) {\n          var p = c[u],\n              f = e[a][p];\n          f >= this.minSimilarity && f > l && (h = p, l = f);\n        }\n\n        if (h >= 0) {\n          var d = this.tracks[h];\n          d = Object.assign(d, this.createTrack(t[a], i, d.id)), t[a].id = d.id;\n          var m = n.indexOf(h);\n          n.splice(m, 1);\n        } else r.push(a);\n      } else r.push(a);\n    }\n\n    for (var y = 0, g = r; y < g.length; y++) {\n      a = g[y];\n      var v = this.createTrack(t[a], i);\n      this.tracks.push(v), t[a].id = v.id;\n    }\n  }, t.prototype.updateTracks = function (t) {\n    this.tracks.sort(function (t, e) {\n      return e.lastTimestamp - t.lastTimestamp;\n    }), this.tracks = this.tracks.slice(0, this.maxTracks);\n  }, t.prototype.createTrack = function (t, e, i) {\n    var n = {\n      id: i || this.nextTrackID(),\n      lastTimestamp: e,\n      keypoints: t.keypoints.slice().map(function (t) {\n        return _C({}, t);\n      })\n    };\n    return void 0 !== t.box && (n.box = _C({}, t.box)), n;\n  }, t.prototype.nextTrackID = function () {\n    var t = this.nextID;\n    return this.nextID += 1, t;\n  }, t.prototype.remove = function () {\n    for (var t = [], e = 0; e < arguments.length; e++) {\n      t[e] = arguments[e];\n    }\n\n    this.tracks = this.tracks.filter(function (e) {\n      return !t.includes(e.id);\n    });\n  }, t.prototype.reset = function () {\n    this.tracks = [];\n  }, t;\n}(),\n    Nt = function (t) {\n  function e(e) {\n    return t.call(this, e) || this;\n  }\n\n  return R(e, t), e.prototype.computeSimilarity = function (t) {\n    var e = this;\n    return 0 === t.length || 0 === this.tracks.length ? [[]] : t.map(function (t) {\n      return e.tracks.map(function (i) {\n        return e.iou(t, i);\n      });\n    });\n  }, e.prototype.iou = function (t, e) {\n    var i = Math.max(t.box.xMin, e.box.xMin),\n        n = Math.max(t.box.yMin, e.box.yMin),\n        r = Math.min(t.box.xMax, e.box.xMax),\n        o = Math.min(t.box.yMax, e.box.yMax);\n    if (i >= r || n >= o) return 0;\n    var s = (r - i) * (o - n);\n    return s / (t.box.width * t.box.height + e.box.width * e.box.height - s);\n  }, e;\n}(Bt),\n    Lt = function (t) {\n  function e(e) {\n    var i = t.call(this, e) || this;\n    return i.keypointThreshold = e.keypointTrackerParams.keypointConfidenceThreshold, i.keypointFalloff = e.keypointTrackerParams.keypointFalloff, i.minNumKeyoints = e.keypointTrackerParams.minNumberOfKeypoints, i;\n  }\n\n  return R(e, t), e.prototype.computeSimilarity = function (t) {\n    if (0 === t.length || 0 === this.tracks.length) return [[]];\n\n    for (var e = [], i = 0, n = t; i < n.length; i++) {\n      for (var r = n[i], o = [], s = 0, a = this.tracks; s < a.length; s++) {\n        var h = a[s];\n        o.push(this.oks(r, h));\n      }\n\n      e.push(o);\n    }\n\n    return e;\n  }, e.prototype.oks = function (t, e) {\n    for (var i = this.area(e.keypoints) + 1e-6, n = 0, r = 0, o = 0; o < t.keypoints.length; ++o) {\n      var s = t.keypoints[o],\n          a = e.keypoints[o];\n\n      if (!(s.score < this.keypointThreshold || a.score < this.keypointThreshold)) {\n        r += 1;\n        var h = Math.pow(s.x - a.x, 2) + Math.pow(s.y - a.y, 2),\n            l = 2 * this.keypointFalloff[o];\n        n += Math.exp(-1 * h / (2 * i * Math.pow(l, 2)));\n      }\n    }\n\n    return r < this.minNumKeyoints ? 0 : n / r;\n  }, e.prototype.area = function (t) {\n    var e = this,\n        i = t.filter(function (t) {\n      return t.score > e.keypointThreshold;\n    }),\n        n = Math.min.apply(Math, [1].concat(i.map(function (t) {\n      return t.x;\n    }))),\n        r = Math.max.apply(Math, [0].concat(i.map(function (t) {\n      return t.x;\n    }))),\n        o = Math.min.apply(Math, [1].concat(i.map(function (t) {\n      return t.y;\n    })));\n    return (r - n) * (Math.max.apply(Math, [0].concat(i.map(function (t) {\n      return t.y;\n    }))) - o);\n  }, e;\n}(Bt);\n\nfunction Vt(t) {\n  switch (t) {\n    case It.BlazePose:\n      return I.reduce(function (t, e, i) {\n        return t[e] = i, t;\n      }, {});\n\n    case It.PoseNet:\n    case It.MoveNet:\n      return z.reduce(function (t, e, i) {\n        return t[e] = i, t;\n      }, {});\n\n    default:\n      throw new Error(\"Model \" + t + \" is not supported.\");\n  }\n}\n\n!function (t) {\n  t.Keypoint = \"keypoint\", t.BoundingBox = \"boundingBox\";\n}(zt || (zt = {})), function (t) {\n  t.MoveNet = \"MoveNet\", t.BlazePose = \"BlazePose\", t.PoseNet = \"PoseNet\";\n}(It || (It = {}));\nvar Kt = Object.freeze({\n  __proto__: null,\n  getKeypointIndexBySide: function getKeypointIndexBySide(t) {\n    switch (t) {\n      case It.BlazePose:\n        return B;\n\n      case It.PoseNet:\n      case It.MoveNet:\n        return N;\n\n      default:\n        throw new Error(\"Model \" + t + \" is not supported.\");\n    }\n  },\n  getAdjacentPairs: function getAdjacentPairs(t) {\n    switch (t) {\n      case It.BlazePose:\n        return V;\n\n      case It.PoseNet:\n      case It.MoveNet:\n        return L;\n\n      default:\n        throw new Error(\"Model \" + t + \" is not supported.\");\n    }\n  },\n  getKeypointIndexByName: Vt\n}),\n    Dt = [\"SinglePose.Lightning\", \"SinglePose.Thunder\", \"MultiPose.Lightning\"],\n    jt = {\n  modelType: \"SinglePose.Lightning\",\n  enableSmoothing: !0\n},\n    qt = {},\n    Ht = {\n  frequency: 30,\n  minCutOff: 2.5,\n  beta: 300,\n  derivateCutOff: 2.5,\n  thresholdCutOff: .5,\n  thresholdBeta: 5,\n  disableValueScaling: !0\n},\n    Ut = {\n  maxTracks: 18,\n  maxAge: 1e3,\n  minSimilarity: .2,\n  keypointTrackerParams: {\n    keypointConfidenceThreshold: .3,\n    keypointFalloff: [.026, .025, .025, .035, .035, .079, .079, .072, .072, .062, .062, .107, .107, .087, .087, .089, .089],\n    minNumberOfKeypoints: 4\n  }\n},\n    Xt = {\n  maxTracks: 18,\n  maxAge: 1e3,\n  minSimilarity: .15,\n  trackerParams: {}\n};\n\nfunction Wt(t, e, i, n) {\n  for (var r = {}, o = 0, s = z; o < s.length; o++) {\n    var a = s[o];\n    r[a] = [e[i[a]].y * n.height, e[i[a]].x * n.width];\n  }\n\n  if (function (t, e) {\n    return (t[e.left_hip].score > .2 || t[e.right_hip].score > .2) && (t[e.left_shoulder].score > .2 || t[e.right_shoulder].score > .2);\n  }(e, i)) {\n    var h = (r.left_hip[0] + r.right_hip[0]) / 2,\n        l = (r.left_hip[1] + r.right_hip[1]) / 2,\n        u = function (t, e, i, n, r) {\n      for (var o = [\"left_shoulder\", \"right_shoulder\", \"left_hip\", \"right_hip\"], s = 0, a = 0, h = 0; h < o.length; h++) {\n        (f = Math.abs(n - i[o[h]][0])) > s && (s = f), (d = Math.abs(r - i[o[h]][1])) > a && (a = d);\n      }\n\n      for (var l = 0, u = 0, c = 0, p = Object.keys(i); c < p.length; c++) {\n        var f,\n            d,\n            m = p[c];\n        if (!(t[e[m]].score < .2)) (f = Math.abs(n - i[m][0])) > l && (l = f), (d = Math.abs(r - i[m][1])) > u && (u = d);\n      }\n\n      return [s, a, l, u];\n    }(e, i, r, h, l),\n        c = u[0],\n        p = u[1],\n        f = u[2],\n        d = u[3],\n        m = Math.max(1.9 * p, 1.9 * c, 1.2 * f, 1.2 * d),\n        y = [h - (m = Math.min(m, Math.max(l, n.width - l, h, n.height - h))), l - m];\n\n    if (m > Math.max(n.width, n.height) / 2) return Yt(null == t, n);\n    var g = 2 * m;\n    return {\n      yMin: y[0] / n.height,\n      xMin: y[1] / n.width,\n      yMax: (y[0] + g) / n.height,\n      xMax: (y[1] + g) / n.width,\n      height: (y[0] + g) / n.height - y[0] / n.height,\n      width: (y[1] + g) / n.width - y[1] / n.width\n    };\n  }\n\n  return Yt(null == t, n);\n}\n\nfunction Yt(t, e) {\n  var i, n, r, o;\n  return t ? e.width > e.height ? (i = 1, n = e.height / e.width, r = 0, o = (e.width / 2 - e.height / 2) / e.width) : (i = e.width / e.height, n = 1, r = (e.height / 2 - e.width / 2) / e.height, o = 0) : e.width > e.height ? (i = e.width / e.height, n = 1, r = (e.height / 2 - e.width / 2) / e.height, o = 0) : (i = 1, n = e.height / e.width, r = 0, o = (e.width / 2 - e.height / 2) / e.width), {\n    yMin: r,\n    xMin: o,\n    yMax: r + i,\n    xMax: o + n,\n    height: i,\n    width: n\n  };\n}\n\nfunction Gt(t) {\n  var e,\n      i = null == t ? jt : _C({}, t);\n  if (null == i.modelType) i.modelType = \"SinglePose.Lightning\";else if (Dt.indexOf(i.modelType) < 0) throw new Error(\"Invalid architecture \" + i.modelType + \". Should be one of \" + Dt);\n  if (null == i.enableSmoothing && (i.enableSmoothing = !0), null != i.minPoseScore && (i.minPoseScore < 0 || i.minPoseScore > 1)) throw new Error(\"minPoseScore should be between 0.0 and 1.0\");\n  if (null != i.multiPoseMaxDimension && (i.multiPoseMaxDimension % 32 != 0 || i.multiPoseMaxDimension < 128 || i.multiPoseMaxDimension > 512)) throw new Error(\"multiPoseResolution must be a multiple of 32 and between 128 and 512\");\n  if (\"MultiPose.Lightning\" === i.modelType && null == i.enableTracking && (i.enableTracking = !0), \"MultiPose.Lightning\" === i.modelType && !0 === i.enableTracking) if (null == i.trackerType && (i.trackerType = zt.BoundingBox), i.trackerType === zt.Keypoint) null != i.trackerConfig ? i.trackerConfig = function (t) {\n    var e = Qt(Ut, t);\n    e.keypointTrackerParams = _C({}, Ut.keypointTrackerParams), null != t.keypointTrackerParams && (null != t.keypointTrackerParams.keypointConfidenceThreshold && (e.keypointTrackerParams.keypointConfidenceThreshold = t.keypointTrackerParams.keypointConfidenceThreshold), null != t.keypointTrackerParams.keypointFalloff && (e.keypointTrackerParams.keypointFalloff = t.keypointTrackerParams.keypointFalloff), null != t.keypointTrackerParams.minNumberOfKeypoints && (e.keypointTrackerParams.minNumberOfKeypoints = t.keypointTrackerParams.minNumberOfKeypoints));\n    return e;\n  }(i.trackerConfig) : i.trackerConfig = Ut;else {\n    if (i.trackerType !== zt.BoundingBox) throw new Error(\"Tracker type not supported by MoveNet\");\n    null != i.trackerConfig ? i.trackerConfig = (e = i.trackerConfig, Qt(Xt, e)) : i.trackerConfig = Xt;\n  }\n  return i;\n}\n\nfunction Qt(t, e) {\n  var i = {\n    maxTracks: t.maxTracks,\n    maxAge: t.maxAge,\n    minSimilarity: t.minSimilarity\n  };\n  return null != e.maxTracks && (i.maxTracks = e.maxTracks), null != e.maxAge && (i.maxAge = e.maxAge), null != e.minSimilarity && (i.minSimilarity = e.minSimilarity), i;\n}\n\nvar Zt = function () {\n  function t(t, e) {\n    this.moveNetModel = t, this.modelInputResolution = {\n      height: 0,\n      width: 0\n    }, this.keypointIndexByName = Vt(It.MoveNet), \"SinglePose.Lightning\" === e.modelType ? (this.modelInputResolution.width = 192, this.modelInputResolution.height = 192) : \"SinglePose.Thunder\" === e.modelType && (this.modelInputResolution.width = 256, this.modelInputResolution.height = 256), this.multiPoseModel = \"MultiPose.Lightning\" === e.modelType, this.multiPoseModel || (this.keypointFilter = new Z(Ht), this.cropRegionFilterYMin = new G(.9), this.cropRegionFilterXMin = new G(.9), this.cropRegionFilterYMax = new G(.9), this.cropRegionFilterXMax = new G(.9)), this.enableSmoothing = e.enableSmoothing, e.minPoseScore ? this.minPoseScore = e.minPoseScore : this.minPoseScore = .25, e.multiPoseMaxDimension ? this.multiPoseMaxDimension = e.multiPoseMaxDimension : this.multiPoseMaxDimension = 256, this.enableTracking = e.enableTracking, this.multiPoseModel && this.enableTracking && (e.trackerType === zt.Keypoint ? this.tracker = new Lt(e.trackerConfig) : e.trackerType === zt.BoundingBox && (this.tracker = new Nt(e.trackerConfig)), this.enableSmoothing && (this.keypointFilterMap = new Map()));\n  }\n\n  return t.prototype.runSinglePersonPoseModel = function (t) {\n    return E(this, void 0, void 0, function () {\n      var e, i, n, r, o;\n      return A(this, function (s) {\n        switch (s.label) {\n          case 0:\n            if (4 !== (e = this.moveNetModel.execute(t)).shape.length || 1 !== e.shape[0] || 1 !== e.shape[1] || 17 !== e.shape[2] || 3 !== e.shape[3]) throw e.dispose(), new Error(\"Unexpected output shape from model: [\" + e.shape + \"]\");\n            return \"webgpu\" === M() ? [3, 1] : (i = e.dataSync(), [3, 3]);\n\n          case 1:\n            return [4, e.data()];\n\n          case 2:\n            i = s.sent(), s.label = 3;\n\n          case 3:\n            for (e.dispose(), n = {\n              keypoints: [],\n              score: 0\n            }, r = 0, o = 0; o < 17; ++o) {\n              n.keypoints[o] = {\n                y: i[3 * o],\n                x: i[3 * o + 1],\n                score: i[3 * o + 2]\n              }, n.keypoints[o].score > .2 && (++r, n.score += n.keypoints[o].score);\n            }\n\n            return r > 0 && (n.score /= r), [2, n];\n        }\n      });\n    });\n  }, t.prototype.runMultiPersonPoseModel = function (t) {\n    return E(this, void 0, void 0, function () {\n      var e, i, n, r, o, s, a, h;\n      return A(this, function (l) {\n        switch (l.label) {\n          case 0:\n            if (3 !== (e = this.moveNetModel.execute(t)).shape.length || 1 !== e.shape[0] || 56 !== e.shape[2]) throw e.dispose(), new Error(\"Unexpected output shape from model: [\" + e.shape + \"]\");\n            return \"webgpu\" === M() ? [3, 1] : (i = e.dataSync(), [3, 3]);\n\n          case 1:\n            return [4, e.data()];\n\n          case 2:\n            i = l.sent(), l.label = 3;\n\n          case 3:\n            for (e.dispose(), n = [], r = i.length / 56, o = 0; o < r; ++o) {\n              for (n[o] = {\n                keypoints: []\n              }, s = 56 * o + 51, n[o].box = {\n                yMin: i[s],\n                xMin: i[s + 1],\n                yMax: i[s + 2],\n                xMax: i[s + 3],\n                width: i[s + 3] - i[s + 1],\n                height: i[s + 2] - i[s]\n              }, a = 56 * o + 55, n[o].score = i[a], n[o].keypoints = [], h = 0; h < 17; ++h) {\n                n[o].keypoints[h] = {\n                  y: i[56 * o + 3 * h],\n                  x: i[56 * o + 3 * h + 1],\n                  score: i[56 * o + 3 * h + 2]\n                };\n              }\n            }\n\n            return [2, n];\n        }\n      });\n    });\n  }, t.prototype.estimatePoses = function (t, e, n) {\n    return void 0 === e && (e = qt), E(this, void 0, void 0, function () {\n      var r, o, s, a, l, u;\n      return A(this, function (c) {\n        switch (c.label) {\n          case 0:\n            return e = function (t) {\n              return null == t ? qt : _C({}, t);\n            }(e), null == t ? (this.reset(), [2, []]) : (null == n ? Y(t) && (n = 1e6 * t.currentTime) : n *= 1e3, r = U(t), o = q(r), s = h(r, 0), t instanceof i || r.dispose(), a = [], this.multiPoseModel ? [3, 2] : [4, this.estimateSinglePose(s, o, n)]);\n\n          case 1:\n            return a = c.sent(), [3, 4];\n\n          case 2:\n            return [4, this.estimateMultiplePoses(s, o, n)];\n\n          case 3:\n            a = c.sent(), c.label = 4;\n\n          case 4:\n            for (l = 0; l < a.length; ++l) {\n              for (u = 0; u < a[l].keypoints.length; ++u) {\n                a[l].keypoints[u].name = z[u], a[l].keypoints[u].y *= o.height, a[l].keypoints[u].x *= o.width;\n              }\n            }\n\n            return [2, a];\n        }\n      });\n    });\n  }, t.prototype.estimateSinglePose = function (t, e, i) {\n    return E(this, void 0, void 0, function () {\n      var n,\n          r,\n          h,\n          u,\n          c = this;\n      return A(this, function (p) {\n        switch (p.label) {\n          case 0:\n            return this.cropRegion || (this.cropRegion = Yt(null == this.cropRegion, e)), n = o(function () {\n              var e = s([[c.cropRegion.yMin, c.cropRegion.xMin, c.cropRegion.yMax, c.cropRegion.xMax]]),\n                  i = T([1], \"int32\"),\n                  n = [c.modelInputResolution.height, c.modelInputResolution.width];\n              return l(a.cropAndResize(t, e, i, n, \"bilinear\", 0), \"int32\");\n            }), t.dispose(), [4, this.runSinglePersonPoseModel(n)];\n\n          case 1:\n            if (r = p.sent(), n.dispose(), r.score < this.minPoseScore) return this.reset(), [2, []];\n\n            for (h = 0; h < r.keypoints.length; ++h) {\n              r.keypoints[h].y = this.cropRegion.yMin + r.keypoints[h].y * this.cropRegion.height, r.keypoints[h].x = this.cropRegion.xMin + r.keypoints[h].x * this.cropRegion.width;\n            }\n\n            return null != i && this.enableSmoothing && (r.keypoints = this.keypointFilter.apply(r.keypoints, i, 1)), u = Wt(this.cropRegion, r.keypoints, this.keypointIndexByName, e), this.cropRegion = this.filterCropRegion(u), [2, [r]];\n        }\n      });\n    });\n  }, t.prototype.estimateMultiplePoses = function (t, e, i) {\n    return E(this, void 0, void 0, function () {\n      var n,\n          r,\n          o,\n          s,\n          h,\n          u,\n          c,\n          p,\n          f,\n          d,\n          m,\n          y = this;\n      return A(this, function (g) {\n        switch (g.label) {\n          case 0:\n            return 32, e.width > e.height ? (r = this.multiPoseMaxDimension, o = Math.round(this.multiPoseMaxDimension * e.height / e.width), n = a.resizeBilinear(t, [o, r]), h = r, u = 32 * Math.ceil(o / 32), s = P(n, [[0, 0], [0, u - o], [0, 0], [0, 0]])) : (r = Math.round(this.multiPoseMaxDimension * e.width / e.height), o = this.multiPoseMaxDimension, n = a.resizeBilinear(t, [o, r]), h = 32 * Math.ceil(r / 32), u = o, s = P(n, [[0, 0], [0, 0], [0, h - r], [0, 0]])), n.dispose(), t.dispose(), c = l(s, \"int32\"), s.dispose(), [4, this.runMultiPersonPoseModel(c)];\n\n          case 1:\n            for (p = g.sent(), c.dispose(), p = p.filter(function (t) {\n              return t.score >= y.minPoseScore;\n            }), d = 0; d < p.length; ++d) {\n              for (f = 0; f < p[d].keypoints.length; ++f) {\n                p[d].keypoints[f].y *= u / o, p[d].keypoints[f].x *= h / r;\n              }\n            }\n\n            if (this.enableTracking && (this.tracker.apply(p, i), this.enableSmoothing)) {\n              for (d = 0; d < p.length; ++d) {\n                this.keypointFilterMap.has(p[d].id) || this.keypointFilterMap.set(p[d].id, new Z(Ht)), p[d].keypoints = this.keypointFilterMap.get(p[d].id).apply(p[d].keypoints, i, 1);\n              }\n\n              m = this.tracker.getTrackIDs(), this.keypointFilterMap.forEach(function (t, e) {\n                m.has(e) || y.keypointFilterMap.delete(e);\n              });\n            }\n\n            return [2, p];\n        }\n      });\n    });\n  }, t.prototype.filterCropRegion = function (t) {\n    if (t) {\n      var e = this.cropRegionFilterYMin.apply(t.yMin),\n          i = this.cropRegionFilterXMin.apply(t.xMin),\n          n = this.cropRegionFilterYMax.apply(t.yMax),\n          r = this.cropRegionFilterXMax.apply(t.xMax);\n      return {\n        yMin: e,\n        xMin: i,\n        yMax: n,\n        xMax: r,\n        height: n - e,\n        width: r - i\n      };\n    }\n\n    return this.cropRegionFilterYMin.reset(), this.cropRegionFilterXMin.reset(), this.cropRegionFilterYMax.reset(), this.cropRegionFilterXMax.reset(), null;\n  }, t.prototype.dispose = function () {\n    this.moveNetModel.dispose();\n  }, t.prototype.reset = function () {\n    this.cropRegion = null, this.resetFilters();\n  }, t.prototype.resetFilters = function () {\n    this.keypointFilter.reset(), this.cropRegionFilterYMin.reset(), this.cropRegionFilterXMin.reset(), this.cropRegionFilterYMax.reset(), this.cropRegionFilterXMax.reset();\n  }, t;\n}();\n\nfunction $t(t) {\n  return void 0 === t && (t = jt), E(this, void 0, void 0, function () {\n    var i, n, r, o;\n    return A(this, function (s) {\n      switch (s.label) {\n        case 0:\n          return i = Gt(t), r = !0, i.modelUrl ? (r = i.modelUrl.indexOf(\"https://tfhub.dev\") > -1, [4, e(i.modelUrl, {\n            fromTFHub: r\n          })]) : [3, 2];\n\n        case 1:\n          return n = s.sent(), [3, 4];\n\n        case 2:\n          return o = void 0, \"SinglePose.Lightning\" === i.modelType ? o = \"https://tfhub.dev/google/tfjs-model/movenet/singlepose/lightning/4\" : \"SinglePose.Thunder\" === i.modelType ? o = \"https://tfhub.dev/google/tfjs-model/movenet/singlepose/thunder/4\" : \"MultiPose.Lightning\" === i.modelType && (o = \"https://tfhub.dev/google/tfjs-model/movenet/multipose/lightning/1\"), [4, e(o, {\n            fromTFHub: r\n          })];\n\n        case 3:\n          n = s.sent(), s.label = 4;\n\n        case 4:\n          return \"webgl\" === M() && S().set(\"TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD\", 0), [2, new Zt(n, i)];\n      }\n    });\n  });\n}\n\nvar Jt = {\n  architecture: \"MobileNetV1\",\n  outputStride: 16,\n  multiplier: .75,\n  inputResolution: {\n    height: 257,\n    width: 257\n  }\n},\n    te = [\"MobileNetV1\", \"ResNet50\"],\n    ee = {\n  MobileNetV1: [8, 16],\n  ResNet50: [16]\n},\n    ie = [8, 16, 32],\n    ne = {\n  MobileNetV1: [.5, .75, 1],\n  ResNet50: [1]\n},\n    re = [1, 2, 4],\n    oe = {\n  maxPoses: 1,\n  flipHorizontal: !1\n},\n    se = {\n  maxPoses: 5,\n  flipHorizontal: !1,\n  scoreThreshold: .5,\n  nmsRadius: 20\n},\n    ae = [-123.15, -115.9, -103.06];\n\nfunction he(t) {\n  return Math.floor(t / 2);\n}\n\nvar le = function () {\n  function t(t, e) {\n    this.priorityQueue = new Array(t), this.numberOfElements = -1, this.getElementValue = e;\n  }\n\n  return t.prototype.enqueue = function (t) {\n    this.priorityQueue[++this.numberOfElements] = t, this.swim(this.numberOfElements);\n  }, t.prototype.dequeue = function () {\n    var t = this.priorityQueue[0];\n    return this.exchange(0, this.numberOfElements--), this.sink(0), this.priorityQueue[this.numberOfElements + 1] = null, t;\n  }, t.prototype.empty = function () {\n    return -1 === this.numberOfElements;\n  }, t.prototype.size = function () {\n    return this.numberOfElements + 1;\n  }, t.prototype.all = function () {\n    return this.priorityQueue.slice(0, this.numberOfElements + 1);\n  }, t.prototype.max = function () {\n    return this.priorityQueue[0];\n  }, t.prototype.swim = function (t) {\n    for (; t > 0 && this.less(he(t), t);) {\n      this.exchange(t, he(t)), t = he(t);\n    }\n  }, t.prototype.sink = function (t) {\n    for (; 2 * t <= this.numberOfElements;) {\n      var e = 2 * t;\n      if (e < this.numberOfElements && this.less(e, e + 1) && e++, !this.less(t, e)) break;\n      this.exchange(t, e), t = e;\n    }\n  }, t.prototype.getValueAt = function (t) {\n    return this.getElementValue(this.priorityQueue[t]);\n  }, t.prototype.less = function (t, e) {\n    return this.getValueAt(t) < this.getValueAt(e);\n  }, t.prototype.exchange = function (t, e) {\n    var i = this.priorityQueue[t];\n    this.priorityQueue[t] = this.priorityQueue[e], this.priorityQueue[e] = i;\n  }, t;\n}();\n\nfunction ue(t, e, i, n, r, o) {\n  for (var s = o.shape, a = s[0], h = s[1], l = !0, u = Math.max(i - r, 0), c = Math.min(i + r + 1, a), p = u; p < c; ++p) {\n    for (var f = Math.max(n - r, 0), d = Math.min(n + r + 1, h), m = f; m < d; ++m) {\n      if (o.get(p, m, t) > e) {\n        l = !1;\n        break;\n      }\n    }\n\n    if (!l) break;\n  }\n\n  return l;\n}\n\nfunction ce(t) {\n  return E(this, void 0, void 0, function () {\n    return A(this, function (e) {\n      return [2, Promise.all(t.map(function (t) {\n        return t.buffer();\n      }))];\n    });\n  });\n}\n\nfunction pe(t, e, i, n) {\n  return {\n    y: n.get(t, e, i),\n    x: n.get(t, e, i + 17)\n  };\n}\n\nfunction fe(t, e, i) {\n  var n = pe(t.heatmapY, t.heatmapX, t.id, i),\n      r = n.y,\n      o = n.x;\n  return {\n    x: t.heatmapX * e + o,\n    y: t.heatmapY * e + r\n  };\n}\n\nfunction de(t, e, i, n) {\n  var r = i.x,\n      o = i.y;\n  return t.some(function (t) {\n    var i,\n        s,\n        a,\n        h,\n        l,\n        u,\n        c = t.keypoints;\n    return i = o, s = r, a = c[n].y, h = c[n].x, (l = a - i) * l + (u = h - s) * u <= e;\n  });\n}\n\nvar me = z.reduce(function (t, e, i) {\n  return t[e] = i, t;\n}, {}),\n    ye = [[\"nose\", \"left_eye\"], [\"left_eye\", \"left_ear\"], [\"nose\", \"right_eye\"], [\"right_eye\", \"right_ear\"], [\"nose\", \"left_shoulder\"], [\"left_shoulder\", \"left_elbow\"], [\"left_elbow\", \"left_wrist\"], [\"left_shoulder\", \"left_hip\"], [\"left_hip\", \"left_knee\"], [\"left_knee\", \"left_ankle\"], [\"nose\", \"right_shoulder\"], [\"right_shoulder\", \"right_elbow\"], [\"right_elbow\", \"right_wrist\"], [\"right_shoulder\", \"right_hip\"], [\"right_hip\", \"right_knee\"], [\"right_knee\", \"right_ankle\"]].map(function (t) {\n  var e = t[0],\n      i = t[1];\n  return [me[e], me[i]];\n}),\n    ge = ye.map(function (t) {\n  return t[1];\n}),\n    ve = ye.map(function (t) {\n  return t[0];\n});\n\nfunction xe(t, e, i) {\n  return t < e ? e : t > i ? i : t;\n}\n\nfunction we(t, e, i, n) {\n  return {\n    y: xe(Math.round(t.y / e), 0, i - 1),\n    x: xe(Math.round(t.x / e), 0, n - 1)\n  };\n}\n\nfunction ke(t, e) {\n  return {\n    x: t.x + e.x,\n    y: t.y + e.y\n  };\n}\n\nfunction be(t, e, i, n, r, o, s, a) {\n  void 0 === a && (a = 2);\n\n  for (var h = n.shape, l = h[0], u = h[1], c = {\n    y: e.y,\n    x: e.x\n  }, p = ke(c, function (t, e, i) {\n    var n = i.shape[2] / 2;\n    return {\n      y: i.get(e.y, e.x, t),\n      x: i.get(e.y, e.x, n + t)\n    };\n  }(t, we(c, o, l, u), s)), f = 0; f < a; f++) {\n    var d = we(p, o, l, u),\n        m = pe(d.y, d.x, i, r);\n    p = ke({\n      x: d.x * o,\n      y: d.y * o\n    }, {\n      x: m.x,\n      y: m.y\n    });\n  }\n\n  var y = we(p, o, l, u),\n      g = n.get(y.y, y.x, i);\n  return {\n    y: p.y,\n    x: p.x,\n    name: z[i],\n    score: g\n  };\n}\n\nfunction Me(t, e, i, n, r, o) {\n  var s = e.shape[2],\n      a = ge.length,\n      h = new Array(s),\n      l = t.part,\n      u = t.score,\n      c = fe(l, n, i);\n  h[l.id] = {\n    score: u,\n    name: z[l.id],\n    y: c.y,\n    x: c.x\n  };\n\n  for (var p = a - 1; p >= 0; --p) {\n    var f = ge[p],\n        d = ve[p];\n    h[f] && !h[d] && (h[d] = be(p, h[f], d, e, i, n, o));\n  }\n\n  for (p = 0; p < a; ++p) {\n    f = ve[p], d = ge[p];\n    h[f] && !h[d] && (h[d] = be(p, h[f], d, e, i, n, r));\n  }\n\n  return h;\n}\n\nfunction Se(t, e, i) {\n  return i.reduce(function (i, n, r) {\n    var o = n.y,\n        s = n.x,\n        a = n.score;\n    return de(t, e, {\n      y: o,\n      x: s\n    }, r) || (i += a), i;\n  }, 0) / i.length;\n}\n\nfunction Te(t, e, i, n, r, o, s, a) {\n  return void 0 === s && (s = .5), void 0 === a && (a = 20), E(this, void 0, void 0, function () {\n    var h, l, u, c, p, f, d, m, y, g, v, x;\n    return A(this, function (w) {\n      switch (w.label) {\n        case 0:\n          return [4, ce([t, e, i, n])];\n\n        case 1:\n          for (h = w.sent(), l = h[0], u = h[1], c = h[2], p = h[3], f = [], d = function (t, e, i) {\n            for (var n = i.shape, r = n[0], o = n[1], s = n[2], a = new le(r * o * s, function (t) {\n              return t.score;\n            }), h = 0; h < r; ++h) {\n              for (var l = 0; l < o; ++l) {\n                for (var u = 0; u < s; ++u) {\n                  var c = i.get(h, l, u);\n                  c < t || ue(u, c, h, l, e, i) && a.enqueue({\n                    score: c,\n                    part: {\n                      heatmapY: h,\n                      heatmapX: l,\n                      id: u\n                    }\n                  });\n                }\n              }\n            }\n\n            return a;\n          }(s, 1, l), m = a * a; f.length < o && !d.empty();) {\n            y = d.dequeue(), g = fe(y.part, r, u), de(f, m, g, y.part.id) || (v = Me(y, l, u, r, c, p), x = Se(f, m, v), f.push({\n              keypoints: v,\n              score: x\n            }));\n          }\n\n          return [2, f];\n      }\n    });\n  });\n}\n\nfunction Pe(t) {\n  var e = t.shape,\n      i = e[0],\n      n = e[1],\n      r = e[2];\n  return o(function () {\n    var e,\n        s,\n        a = k(t, [i * n, r]),\n        l = F(a, 0),\n        u = h(g(l, _(n, \"int32\")), 1),\n        p = h((e = l, s = n, o(function () {\n      var t = g(e, _(s, \"int32\"));\n      return x(e, c(t, _(s, \"int32\")));\n    })), 1);\n    return w([u, p], 1);\n  });\n}\n\nfunction _e(t, e, i) {\n  return o(function () {\n    var n = function (t, e) {\n      for (var i = [], n = 0; n < z.length; n++) {\n        var r = t.get(n, 0).valueOf(),\n            o = t.get(n, 1).valueOf(),\n            a = Fe(r, o, n, e),\n            h = a.x,\n            l = a.y;\n        i.push(l), i.push(h);\n      }\n\n      return s(i, [z.length, 2]);\n    }(t, i);\n\n    return u(l(c(t.toTensor(), _(e, \"int32\")), \"float32\"), n);\n  });\n}\n\nfunction Fe(t, e, i, n) {\n  return {\n    y: n.get(t, e, i),\n    x: n.get(t, e, i + z.length)\n  };\n}\n\nfunction Oe(t, e, i) {\n  return E(this, void 0, void 0, function () {\n    var n, r, o, s, a, h, l, u, c, p;\n    return A(this, function (f) {\n      switch (f.label) {\n        case 0:\n          return n = 0, r = Pe(t), [4, Promise.all([t.buffer(), e.buffer(), r.buffer()])];\n\n        case 1:\n          return o = f.sent(), s = o[0], a = o[1], h = o[2], [4, (l = _e(h, i, a)).buffer()];\n\n        case 2:\n          return u = f.sent(), c = Array.from(function (t, e) {\n            for (var i = e.shape[0], n = new Float32Array(i), r = 0; r < i; r++) {\n              var o = e.get(r, 0),\n                  s = e.get(r, 1);\n              n[r] = t.get(o, s, r);\n            }\n\n            return n;\n          }(s, h)), p = c.map(function (t, e) {\n            return n += t, {\n              y: u.get(e, 0),\n              x: u.get(e, 1),\n              score: t,\n              name: z[e]\n            };\n          }), r.dispose(), l.dispose(), [2, {\n            keypoints: p,\n            score: n / p.length\n          }];\n      }\n    });\n  });\n}\n\nfunction Re(t, e) {\n  return (t - 1) % e == 0;\n}\n\nvar Ce = \"https://storage.googleapis.com/tfjs-models/savedmodel/posenet/mobilenet/\",\n    Ee = \"https://storage.googleapis.com/tfjs-models/savedmodel/posenet/resnet50/\";\n\nfunction Ae(t, e) {\n  return function (t, e) {\n    return (t - 1) % e == 0;\n  }(t, e) ? t : Math.floor(t / e) * e + 1;\n}\n\nvar ze = function () {\n  function t(t, e) {\n    this.posenetModel = t;\n    var i = this.posenetModel.inputs[0].shape;\n    r.assert(-1 === i[1] && -1 === i[2], function () {\n      return \"Input shape [\" + i[1] + \", \" + i[2] + \"] must both be equal to or -1\";\n    });\n    var n,\n        o,\n        s = (n = e.inputResolution, o = e.outputStride, {\n      height: Ae(n.height, o),\n      width: Ae(n.width, o)\n    });\n    !function (t) {\n      r.assert(ie.indexOf(t) >= 0, function () {\n        return \"outputStride of \" + t + \" is invalid. It must be either 8 or 16.\";\n      });\n    }(e.outputStride), function (t, e) {\n      r.assert(Re(t.height, e), function () {\n        return \"height of \" + t.height + \" is invalid for output stride \" + e + \".\";\n      }), r.assert(Re(t.width, e), function () {\n        return \"width of \" + t.width + \" is invalid for output stride \" + e + \".\";\n      });\n    }(s, e.outputStride), this.inputResolution = s, this.outputStride = e.outputStride, this.architecture = e.architecture;\n  }\n\n  return t.prototype.estimatePoses = function (t, e) {\n    return void 0 === e && (e = oe), E(this, void 0, void 0, function () {\n      var i, n, r, o, s, a, h, l, c, p, y, g, v, x, w;\n      return A(this, function (k) {\n        switch (k.label) {\n          case 0:\n            return i = function (t) {\n              var e = t;\n              if (null == e.maxPoses && (e.maxPoses = 1), e.maxPoses <= 0) throw new Error(\"Invalid maxPoses \" + e.maxPoses + \". Should be > 0.\");\n\n              if (e.maxPoses > 1) {\n                if ((e = _C({}, se, e)).scoreThreshold < 0 || e.scoreThreshold > 1) throw new Error(\"Invalid scoreThreshold \" + e.scoreThreshold + \". Should be in range [0.0, 1.0]\");\n                if (e.nmsRadius <= 0) throw new Error(\"Invalid nmsRadius \" + e.nmsRadius + \".\");\n              }\n\n              return e;\n            }(e), null == t ? [2, []] : (this.maxPoses = i.maxPoses, n = W(t, {\n              inputResolution: this.inputResolution,\n              keepAspectRatio: !0\n            }), r = n.imageTensor, o = n.padding, s = \"ResNet50\" === this.architecture ? u(r, ae) : nt(r, [-1, 1]), a = this.posenetModel.predict(s), \"ResNet50\" === this.architecture ? (h = d(a[2], [0]), l = d(a[3], [0]), c = d(a[0], [0]), p = d(a[1], [0])) : (h = d(a[0], [0]), l = d(a[1], [0]), c = d(a[2], [0]), p = d(a[3], [0])), y = f(l), 1 !== this.maxPoses ? [3, 2] : [4, Oe(y, h, this.outputStride)]);\n\n          case 1:\n            return v = k.sent(), g = [v], [3, 4];\n\n          case 2:\n            return [4, Te(y, h, c, p, this.outputStride, this.maxPoses, i.scoreThreshold, i.nmsRadius)];\n\n          case 3:\n            g = k.sent(), k.label = 4;\n\n          case 4:\n            return x = q(t), w = function (t, e, i, n) {\n              var r = e.height,\n                  o = e.width,\n                  s = r / (i.height * (1 - n.top - n.bottom)),\n                  a = o / (i.width * (1 - n.left - n.right)),\n                  h = -n.top * i.height,\n                  l = -n.left * i.width;\n              if (1 === a && 1 === s && 0 === h && 0 === l) return t;\n\n              for (var u = 0, c = t; u < c.length; u++) {\n                for (var p = 0, f = c[u].keypoints; p < f.length; p++) {\n                  var d = f[p];\n                  d.x = (d.x + l) * a, d.y = (d.y + h) * s;\n                }\n              }\n\n              return t;\n            }(g, x, this.inputResolution, o), i.flipHorizontal && (w = function (t, e) {\n              for (var i = 0, n = t; i < n.length; i++) {\n                for (var r = 0, o = n[i].keypoints; r < o.length; r++) {\n                  var s = o[r];\n                  s.x = e.width - 1 - s.x;\n                }\n              }\n\n              return t;\n            }(w, x)), r.dispose(), s.dispose(), m(a), h.dispose(), l.dispose(), c.dispose(), p.dispose(), y.dispose(), [2, w];\n        }\n      });\n    });\n  }, t.prototype.dispose = function () {\n    this.posenetModel.dispose();\n  }, t.prototype.reset = function () {}, t;\n}();\n\nfunction Ie(t) {\n  return void 0 === t && (t = Jt), E(this, void 0, void 0, function () {\n    var i, n, r, o, s;\n    return A(this, function (a) {\n      switch (a.label) {\n        case 0:\n          return \"ResNet50\" !== (i = function (t) {\n            var e = t || Jt;\n            if (null == e.architecture && (e.architecture = \"MobileNetV1\"), te.indexOf(e.architecture) < 0) throw new Error(\"Invalid architecture \" + e.architecture + \". Should be one of \" + te);\n            if (null == e.inputResolution && (e.inputResolution = {\n              height: 257,\n              width: 257\n            }), null == e.outputStride && (e.outputStride = 16), ee[e.architecture].indexOf(e.outputStride) < 0) throw new Error(\"Invalid outputStride \" + e.outputStride + \". Should be one of \" + ee[e.architecture] + \" for architecture \" + e.architecture + \".\");\n            if (null == e.multiplier && (e.multiplier = 1), ne[e.architecture].indexOf(e.multiplier) < 0) throw new Error(\"Invalid multiplier \" + e.multiplier + \". Should be one of \" + ne[e.architecture] + \" for architecture \" + e.architecture + \".\");\n            if (null == e.quantBytes && (e.quantBytes = 4), re.indexOf(e.quantBytes) < 0) throw new Error(\"Invalid quantBytes \" + e.quantBytes + \". Should be one of \" + re + \" for architecture \" + e.architecture + \".\");\n            if (\"MobileNetV1\" === e.architecture && 32 === e.outputStride && 1 !== e.multiplier) throw new Error(\"When using an output stride of 32, you must select 1 as the multiplier.\");\n            return e;\n          }(t)).architecture ? [3, 2] : (h = i.outputStride, l = i.quantBytes, u = \"model-stride\" + h + \".json\", n = 4 === l ? Ee + \"float/\" + u : Ee + \"quant\" + l + \"/\" + u, [4, e(i.modelUrl || n)]);\n\n        case 1:\n          return r = a.sent(), [2, new ze(r, i)];\n\n        case 2:\n          return o = function (t, e, i) {\n            var n = {\n              1: \"100\",\n              .75: \"075\",\n              .5: \"050\"\n            },\n                r = \"model-stride\" + t + \".json\";\n            return 4 === i ? Ce + \"float/\" + n[e] + \"/\" + r : Ce + \"quant\" + i + \"/\" + n[e] + \"/\" + r;\n          }(i.outputStride, i.multiplier, i.quantBytes), [4, e(i.modelUrl || o)];\n\n        case 3:\n          return s = a.sent(), [2, new ze(s, i)];\n      }\n\n      var h, l, u;\n    });\n  });\n}\n\nfunction Be(t, e) {\n  return E(this, void 0, void 0, function () {\n    var i, n;\n    return A(this, function (r) {\n      switch (t) {\n        case It.PoseNet:\n          return [2, Ie(e)];\n\n        case It.BlazePose:\n          if (n = void 0, null != (i = e)) {\n            if (\"tfjs\" === i.runtime) return [2, At(e)];\n            if (\"mediapipe\" === i.runtime) return [2, j(e)];\n            n = i.runtime;\n          }\n\n          throw new Error(\"Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got \" + n);\n\n        case It.MoveNet:\n          return [2, $t(e)];\n\n        default:\n          throw new Error(t + \" is not a supported model name.\");\n      }\n    });\n  });\n}\n\nvar Ne = {\n  keypointsToNormalizedKeypoints: $\n},\n    Le = {\n  modelType: {\n    SINGLEPOSE_LIGHTNING: \"SinglePose.Lightning\",\n    SINGLEPOSE_THUNDER: \"SinglePose.Thunder\",\n    MULTIPOSE_LIGHTNING: \"MultiPose.Lightning\"\n  }\n};\nexport { It as SupportedModels, zt as TrackerType, Ne as calculators, Be as createDetector, Le as movenet, Kt as util };","map":{"version":3,"sources":["/Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/@tensorflow-models/pose-detection/dist/pose-detection.esm.js"],"names":["Pose","t","loadGraphModel","e","Tensor","i","browser","n","util","r","tidy","o","tensor2d","s","image","a","expandDims","h","cast","l","add","u","mul","c","slice","p","sigmoid","f","squeeze","d","dispose","m","tensor1d","y","div","g","exp","v","sub","x","concat","w","reshape","k","clipByValue","b","getBackend","M","env","S","zeros","T","pad","P","scalar","_","argMax","F","O","Object","setPrototypeOf","__proto__","Array","hasOwnProperty","R","constructor","prototype","create","C","assign","arguments","length","call","apply","E","Promise","next","throw","done","value","then","A","label","sent","trys","ops","return","Symbol","iterator","TypeError","pop","push","z","I","B","left","right","middle","N","L","V","K","runtime","enableSmoothing","modelType","D","width","height","selfieMode","poseSolution","locateFile","solutionPath","replace","setOptions","modelComplexity","smoothLandmarks","onResults","poseLandmarks","poses","translateOutput","poseWorldLandmarks","keypoints","map","score","visibility","name","keypoints3D","estimatePoses","flipHorizontal","send","close","reset","initialize","j","q","shape","H","Math","PI","floor","U","fromPixels","X","assert","W","inputResolution","keepAspectRatio","xCenter","yCenter","rotation","top","bottom","imageTensor","cos","sin","transform","padding","Y","currentTime","G","alpha","initialized","storedValue","asinh","rawValue","applyWithAlpha","hasLastRawValue","lastRawValue","Q","frequency","minCutOff","beta","thresholdCutOff","thresholdBeta","derivateCutOff","getAlpha","dx","lastTimestamp","trunc","abs","Z","config","initializeFiltersIfEmpty","disableValueScaling","minAllowedObjectScale","xFilters","yFilters","zFilters","$","J","window","lowPassFilter","lastValue","lastValueScale","duration","distance","velocityScale","unshift","windowSize","tt","et","it","velocityFilter","keypointsFilter","oneEuroFilter","Error","nt","scale","offset","rt","rotationVectorStartKeypointIndex","rotationVectorEndKeypointIndex","locationData","relativeKeypoints","sqrt","rotationVectorTargetAngle","rotationVectorTargetAngleDegree","atan2","ot","st","predict","boxes","scores","at","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","min","max","relativeBoundingBox","xMin","yMin","xMax","yMax","ht","nonMaxSuppressionAsync","array","filter","indexOf","lt","buffer","kernelSize","get","minConfidenceToRefine","ut","reverseOutputOrder","boxCoordOffset","xScale","yScale","applyExponentialOnBoxSize","hScale","wScale","numBoxes","numKeypoints","keypointCoordOffset","numValuesPerKeypoint","sigmoidScore","scoreClippingThresh","ct","data","minScoreThresh","numCoords","pt","flipVertically","ind","ft","size","numLandmarks","inputImageWidth","inputImageHeight","normalizeZ","dt","rotationDegree","shiftX","shiftY","squareLong","squareShort","scaleX","scaleY","mt","visibilityFilters","yt","reduceBoxesInLowestlayer","interpolatedScaleAspectRatio","featureMapHeight","featureMapWidth","numLayers","minScale","maxScale","inputSizeHeight","inputSizeWidth","anchorOffsetX","anchorOffsetY","strides","aspectRatios","fixedAnchorSize","gt","detectorModelUrl","landmarkModelUrl","vt","maxPoses","xt","ignoreClasses","numClasses","wt","kt","bt","Mt","St","Tt","Pt","_t","Ft","Ot","Rt","Ct","Et","detectorModel","landmarkModel","regionOfInterest","anchors","reduceBoxesInLowestLayer","ceil","anchorTensor","timestamp","detectPose","poseDetectionToRoi","poseLandmarksByRoi","actualLandmarks","auxiliaryLandmarks","poseScore","actualWorldLandmarks","poseLandmarkFiltering","actualLandmarksFiltered","auxiliaryLandmarksFiltered","actualWorldLandmarksFiltered","poseLandmarksToRoi","forEach","visibilitySmoothingFilterActual","visibilitySmoothingFilterAuxiliary","landmarksSmoothingFilterActual","landmarksSmoothingFilterAuxiliary","execute","ignoreRotation","worldLandmarksSmoothingFilterActual","At","all","fromTFHub","zt","It","Bt","maxTracks","maxAge","keypointTrackerParams","keypointConfidenceThreshold","minNumberOfKeypoints","keypointFalloff","tracks","minSimilarity","nextID","filterOldTracks","computeSimilarity","assignTracks","updateTracks","getTracks","getTrackIDs","Set","id","from","keys","createTrack","splice","sort","nextTrackID","box","remove","includes","Nt","iou","Lt","keypointThreshold","minNumKeyoints","oks","area","pow","Vt","BlazePose","reduce","PoseNet","MoveNet","Keypoint","BoundingBox","Kt","freeze","getKeypointIndexBySide","getAdjacentPairs","getKeypointIndexByName","Dt","jt","qt","Ht","Ut","Xt","trackerParams","Wt","left_hip","right_hip","left_shoulder","right_shoulder","Yt","Gt","minPoseScore","multiPoseMaxDimension","enableTracking","trackerType","trackerConfig","Qt","Zt","moveNetModel","modelInputResolution","keypointIndexByName","multiPoseModel","keypointFilter","cropRegionFilterYMin","cropRegionFilterXMin","cropRegionFilterYMax","cropRegionFilterXMax","tracker","keypointFilterMap","Map","runSinglePersonPoseModel","dataSync","runMultiPersonPoseModel","estimateSinglePose","estimateMultiplePoses","cropRegion","cropAndResize","filterCropRegion","round","resizeBilinear","has","set","delete","resetFilters","$t","modelUrl","Jt","architecture","outputStride","multiplier","te","ee","MobileNetV1","ResNet50","ie","ne","re","oe","se","scoreThreshold","nmsRadius","ae","he","le","priorityQueue","numberOfElements","getElementValue","enqueue","swim","dequeue","exchange","sink","empty","less","getValueAt","ue","ce","pe","fe","heatmapY","heatmapX","de","some","me","ye","ge","ve","xe","we","ke","be","Me","part","Se","Te","Pe","_e","valueOf","Fe","toTensor","Oe","Float32Array","Re","Ce","Ee","Ae","ze","posenetModel","inputs","Ie","quantBytes","Be","Ne","keypointsToNormalizedKeypoints","Le","SINGLEPOSE_LIGHTNING","SINGLEPOSE_THUNDER","MULTIPOSE_LIGHTNING","SupportedModels","TrackerType","calculators","createDetector","movenet"],"mappings":"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","sourcesContent":["/**\n    * @license\n    * Copyright 2021 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport{Pose as t}from\"@mediapipe/pose\";import{loadGraphModel as e}from\"@tensorflow/tfjs-converter\";import{Tensor as i,browser as n,util as r,tidy as o,tensor2d as s,image as a,expandDims as h,cast as l,add as u,mul as c,slice as p,sigmoid as f,squeeze as d,dispose as m,tensor1d as y,div as g,exp as v,sub as x,concat as w,reshape as k,clipByValue as b,getBackend as M,env as S,zeros as T,pad as P,scalar as _,argMax as F}from\"@tensorflow/tfjs-core\";var O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function R(t,e){function i(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var C=function(){return(C=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function E(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))}function A(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var z=[\"nose\",\"left_eye\",\"right_eye\",\"left_ear\",\"right_ear\",\"left_shoulder\",\"right_shoulder\",\"left_elbow\",\"right_elbow\",\"left_wrist\",\"right_wrist\",\"left_hip\",\"right_hip\",\"left_knee\",\"right_knee\",\"left_ankle\",\"right_ankle\"],I=[\"nose\",\"left_eye_inner\",\"left_eye\",\"left_eye_outer\",\"right_eye_inner\",\"right_eye\",\"right_eye_outer\",\"left_ear\",\"right_ear\",\"mouth_left\",\"mouth_right\",\"left_shoulder\",\"right_shoulder\",\"left_elbow\",\"right_elbow\",\"left_wrist\",\"right_wrist\",\"left_pinky\",\"right_pinky\",\"left_index\",\"right_index\",\"left_thumb\",\"right_thumb\",\"left_hip\",\"right_hip\",\"left_knee\",\"right_knee\",\"left_ankle\",\"right_ankle\",\"left_heel\",\"right_heel\",\"left_foot_index\",\"right_foot_index\"],B={left:[1,2,3,7,9,11,13,15,17,19,21,23,25,27,29,31],right:[4,5,6,8,10,12,14,16,18,20,22,24,26,28,30,32],middle:[0]},N={left:[1,3,5,7,9,11,13,15],right:[2,4,6,8,10,12,14,16],middle:[0]},L=[[0,1],[0,2],[1,3],[2,4],[5,6],[5,7],[5,11],[6,8],[6,12],[7,9],[8,10],[11,12],[11,13],[12,14],[13,15],[14,16]],V=[[0,1],[0,4],[1,2],[2,3],[3,7],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[11,23],[12,14],[14,16],[12,24],[13,15],[15,17],[16,18],[16,20],[15,17],[15,19],[15,21],[16,22],[17,19],[18,20],[23,25],[23,24],[24,26],[25,27],[26,28],[27,29],[28,30],[27,31],[28,32],[29,31],[30,32]],K={runtime:\"mediapipe\",enableSmoothing:!0,modelType:\"full\"};var D=function(){function e(e){var i,n=this;switch(this.width=0,this.height=0,this.selfieMode=!1,this.poseSolution=new t({locateFile:function(t,i){return e.solutionPath?e.solutionPath.replace(/\\/+$/,\"\")+\"/\"+t:i+\"/\"+t}}),e.modelType){case\"lite\":i=0;break;case\"heavy\":i=2;break;case\"full\":default:i=1}this.poseSolution.setOptions({modelComplexity:i,smoothLandmarks:e.enableSmoothing||!0,selfieMode:this.selfieMode}),this.poseSolution.onResults((function(t){n.height=t.image.height,n.width=t.image.width,null==t.poseLandmarks?n.poses=[]:n.poses=[n.translateOutput(t.poseLandmarks,t.poseWorldLandmarks)]}))}return e.prototype.translateOutput=function(t,e){var i=this,n={keypoints:t.map((function(t,e){return{x:t.x*i.width,y:t.y*i.height,z:t.z,score:t.visibility,name:I[e]}}))};return null!=e&&(n.keypoints3D=e.map((function(t,e){return{x:t.x,y:t.y,z:t.z,score:t.visibility,name:I[e]}}))),n},e.prototype.estimatePoses=function(t,e,i){return E(this,void 0,void 0,(function(){return A(this,(function(n){switch(n.label){case 0:return e&&e.flipHorizontal&&e.flipHorizontal!==this.selfieMode&&(this.selfieMode=e.flipHorizontal,this.poseSolution.setOptions({selfieMode:this.selfieMode})),[4,this.poseSolution.send({image:t},i)];case 1:return n.sent(),[2,this.poses]}}))}))},e.prototype.dispose=function(){this.poseSolution.close()},e.prototype.reset=function(){this.poseSolution.reset()},e.prototype.initialize=function(){return this.poseSolution.initialize()},e}();function j(t){return E(this,void 0,void 0,(function(){var e,i;return A(this,(function(n){switch(n.label){case 0:return e=function(t){if(null==t)return C({},K);var e=C({},t);return e.runtime=\"mediapipe\",null==e.enableSmoothing&&(e.enableSmoothing=K.enableSmoothing),null==e.modelType&&(e.modelType=K.modelType),e}(t),[4,(i=new D(e)).initialize()];case 1:return n.sent(),[2,i]}}))}))}function q(t){return t instanceof i?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function H(t){return t-2*Math.PI*Math.floor((t+Math.PI)/(2*Math.PI))}function U(t){return t instanceof i?t:n.fromPixels(t)}function X(t,e){r.assert(0!==t.width,(function(){return e+\" width cannot be 0.\"})),r.assert(0!==t.height,(function(){return e+\" height cannot be 0.\"}))}function W(t,e,i){var n=e.inputResolution,r=e.keepAspectRatio,u=q(t),c=function(t,e){return e?{xCenter:e.xCenter*t.width,yCenter:e.yCenter*t.height,width:e.width*t.width,height:e.height*t.height,rotation:e.rotation}:{xCenter:.5*t.width,yCenter:.5*t.height,width:t.width,height:t.height,rotation:0}}(u,i),p=function(t,e,i){if(void 0===i&&(i=!1),!i)return{top:0,left:0,right:0,bottom:0};var n=e.height,r=e.width;X(e,\"targetSize\"),X(t,\"roi\");var o,s,a=n/r,h=t.height/t.width,l=0,u=0;return a>h?(o=t.width,s=t.width*a,u=(1-h/a)/2):(o=t.height/a,s=t.height,l=(1-a/h)/2),t.width=o,t.height=s,{top:u,left:l,right:l,bottom:u}}(c,n,r);return{imageTensor:o((function(){var e=U(t),i=s(function(t,e,i,n){X(n,\"inputResolution\");var r=1/e.width,o=1/e.height,s=t.xCenter,a=t.yCenter,h=Math.cos(t.rotation),l=Math.sin(t.rotation),u=i?-1:1,c=t.width,p=t.height;return[1/n.width*c*h*u*r*e.width,1/n.height*-p*l*r*e.width,(-.5*c*h*u+.5*p*l+s)*r*e.width,1/n.width*c*l*u*o*e.height,1/n.height*p*h*o*e.height,(-.5*p*h-.5*c*l*u+a)*o*e.height,0,0]}(c,u,!1,n),[1,8]);return a.transform(h(l(e,\"float32\")),i,\"bilinear\",\"nearest\",0,[n.height,n.width])})),padding:p}}function Y(t){return null!=t&&null!=t.currentTime}var G=function(){function t(t){this.alpha=t,this.initialized=!1}return t.prototype.apply=function(t,e){var i;return this.initialized?i=null==e?this.storedValue+this.alpha*(t-this.storedValue):this.storedValue+this.alpha*e*Math.asinh((t-this.storedValue)/e):(i=t,this.initialized=!0),this.rawValue=t,this.storedValue=i,i},t.prototype.applyWithAlpha=function(t,e,i){return this.alpha=e,this.apply(t,i)},t.prototype.hasLastRawValue=function(){return this.initialized},t.prototype.lastRawValue=function(){return this.rawValue},t.prototype.reset=function(){this.initialized=!1},t}(),Q=function(){function t(t){this.frequency=t.frequency,this.minCutOff=t.minCutOff,this.beta=t.beta,this.thresholdCutOff=t.thresholdCutOff,this.thresholdBeta=t.thresholdBeta,this.derivateCutOff=t.derivateCutOff,this.x=new G(this.getAlpha(this.minCutOff)),this.dx=new G(this.getAlpha(this.derivateCutOff)),this.lastTimestamp=0}return t.prototype.apply=function(t,e,i){if(null==t)return t;var n=Math.trunc(e);if(this.lastTimestamp>=n)return t;0!==this.lastTimestamp&&0!==n&&(this.frequency=1/(1e-6*(n-this.lastTimestamp))),this.lastTimestamp=n;var r=this.x.hasLastRawValue()?(t-this.x.lastRawValue())*i*this.frequency:0,o=this.dx.applyWithAlpha(r,this.getAlpha(this.derivateCutOff)),s=this.minCutOff+this.beta*Math.abs(o),a=null!=this.thresholdCutOff?this.thresholdCutOff+this.thresholdBeta*Math.abs(o):null;return this.x.applyWithAlpha(t,this.getAlpha(s),a)},t.prototype.getAlpha=function(t){return 1/(1+this.frequency/(2*Math.PI*t))},t}(),Z=function(){function t(t){this.config=t}return t.prototype.apply=function(t,e,i){var n=this;if(null==t)return this.reset(),null;this.initializeFiltersIfEmpty(t);var r=1;if(!this.config.disableValueScaling){if(i<this.config.minAllowedObjectScale)return t.slice();r=1/i}return t.map((function(t,i){var o=C({},t,{x:n.xFilters[i].apply(t.x,e,r),y:n.yFilters[i].apply(t.y,e,r)});return null!=t.z&&(o.z=n.zFilters[i].apply(t.z,e,r)),o}))},t.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},t.prototype.initializeFiltersIfEmpty=function(t){var e=this;null!=this.xFilters&&this.xFilters.length===t.length||(this.xFilters=t.map((function(t){return new Q(e.config)})),this.yFilters=t.map((function(t){return new Q(e.config)})),this.zFilters=t.map((function(t){return new Q(e.config)})))},t}();function $(t,e){return t.map((function(t){var i=C({},t,{x:t.x/e.width,y:t.y/e.height});return null!=t.z&&(t.z=t.z/e.width),i}))}var J=function(){function t(t){this.config=t,this.window=[],this.lowPassFilter=new G(1),this.lastValue=0,this.lastValueScale=1,this.lastTimestamp=-1}return t.prototype.apply=function(t,e,i){if(null==t)return t;var n,r=Math.trunc(e);if(this.lastTimestamp>=r)return t;if(-1===this.lastTimestamp)n=1;else{for(var o=t*i-this.lastValue*this.lastValueScale,s=r-this.lastTimestamp,a=o,h=s,l=(1+this.window.length)*(1e6/30),u=0,c=this.window;u<c.length;u++){var p=c[u];if(h+p.duration>l)break;a+=p.distance,h+=p.duration}var f=a/(1e-6*h);n=1-1/(1+this.config.velocityScale*Math.abs(f)),this.window.unshift({distance:o,duration:s}),this.window.length>this.config.windowSize&&this.window.pop()}return this.lastValue=t,this.lastValueScale=i,this.lastTimestamp=r,this.lowPassFilter.applyWithAlpha(t,n)},t}(),tt=function(){function t(t){this.config=t}return t.prototype.apply=function(t,e,i){var n=this;if(null==t)return this.reset(),null;var r=1;if(!this.config.disableValueScaling){if(i<this.config.minAllowedObjectScale)return t.slice();r=1/i}return this.initializeFiltersIfEmpty(t),t.map((function(t,i){var o=C({},t,{x:n.xFilters[i].apply(t.x,e,r),y:n.yFilters[i].apply(t.y,e,r)});return null!=t.z&&(o.z=n.zFilters[i].apply(t.z,e,r)),o}))},t.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},t.prototype.initializeFiltersIfEmpty=function(t){var e=this;null!=this.xFilters&&this.xFilters.length===t.length||(this.xFilters=t.map((function(t){return new J(e.config)})),this.yFilters=t.map((function(t){return new J(e.config)})),this.zFilters=t.map((function(t){return new J(e.config)})))},t}();function et(t,e){return t.map((function(t){var i=C({},t,{x:t.x*e.width,y:t.y*e.height});return null!=t.z&&(i.z=t.z*e.width),i}))}var it=function(){function t(t){if(null!=t.velocityFilter)this.keypointsFilter=new tt(t.velocityFilter);else{if(null==t.oneEuroFilter)throw new Error(\"Either configure velocityFilter or oneEuroFilter, but got \"+t+\".\");this.keypointsFilter=new Z(t.oneEuroFilter)}}return t.prototype.apply=function(t,e,i,n,r){if(void 0===n&&(n=!1),null==t)return this.keypointsFilter.reset(),null;var o=null!=r?function(t,e){return(t.width*e.width+t.height*e.height)/2}(r,i):1,s=n?et(t,i):t,a=this.keypointsFilter.apply(s,e,o);return n?$(a,i):a},t}();function nt(t,e){var i=function(t,e,i,n){var r=e-t,o=n-i;if(0===r)throw new Error(\"Original min and max are both \"+t+\", range cannot be 0.\");var s=o/r;return{scale:s,offset:i-t*s}}(0,255,e[0],e[1]);return o((function(){return u(c(t,i.scale),i.offset)}))}function rt(t,e,i){var n=i.rotationVectorStartKeypointIndex,r=i.rotationVectorEndKeypointIndex,o=t.locationData,s=o.relativeKeypoints[n].x*e.width,a=o.relativeKeypoints[n].y*e.height,h=o.relativeKeypoints[r].x*e.width,l=o.relativeKeypoints[r].y*e.height,u=2*Math.sqrt((h-s)*(h-s)+(l-a)*(l-a)),c=function(t,e,i){var n,r=t.locationData,o=i.rotationVectorStartKeypointIndex,s=i.rotationVectorEndKeypointIndex;n=i.rotationVectorTargetAngle?i.rotationVectorTargetAngle:Math.PI*i.rotationVectorTargetAngleDegree/180;var a=r.relativeKeypoints[o].x*e.width,h=r.relativeKeypoints[o].y*e.height,l=r.relativeKeypoints[s].x*e.width,u=r.relativeKeypoints[s].y*e.height;return H(n-Math.atan2(-(u-h),l-a))}(t,e,i);return{xCenter:s/e.width,yCenter:a/e.height,width:u/e.width,height:u/e.height,rotation:c}}function ot(t,e,i,n){return 1===n?.5*(t+e):t+(e-t)*i/(n-1)}function st(t,e){return o((function(){var i=function(t){return o((function(){var e=p(t,[0,0,0],[1,-1,1]);return[f(e),p(t,[0,0,1],[1,-1,-1])]}))}(e.predict(t)),n=i[0],r=i[1];return{boxes:d(r),scores:d(n)}}))}function at(t){for(var e={locationData:{relativeKeypoints:[]}},i=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=0;s<t.length;++s){var a=t[s];i=Math.min(i,a.x),n=Math.max(n,a.x),r=Math.min(r,a.y),o=Math.max(o,a.y),e.locationData.relativeKeypoints.push({x:a.x,y:a.y})}return e.locationData.relativeBoundingBox={xMin:i,yMin:r,xMax:n,yMax:o,width:n-i,height:o-r},e}function ht(t,e,i,n){return E(this,void 0,void 0,(function(){var r,o,h,l,u;return A(this,(function(c){switch(c.label){case 0:return r=s(t.map((function(t){return[t.locationData.relativeBoundingBox.yMin,t.locationData.relativeBoundingBox.xMin,t.locationData.relativeBoundingBox.yMax,t.locationData.relativeBoundingBox.xMax]}))),o=y(t.map((function(t){return t.score[0]}))),[4,a.nonMaxSuppressionAsync(r,o,e,i,n)];case 1:return[4,(h=c.sent()).array()];case 2:return l=c.sent(),u=t.filter((function(t,e){return l.indexOf(e)>-1})),m([r,o,h]),[2,u]}}))}))}function lt(t,e,i){return E(this,void 0,void 0,(function(){var n,r,o,s,a,h,l,u,c,p,f,m,y,g,v,x,w,k,b,M,S,T,P,_;return A(this,(function(F){switch(F.label){case 0:if(n=d(e,[0]),r=n.shape,o=r[0],s=r[1],a=r[2],t.length!==a)throw new Error(\"Expected heatmap to have same number of channels as the number of landmarks. But got landmarks length: \"+t.length+\", heatmap length: \"+a);return h=[],[4,n.buffer()];case 1:for(l=F.sent(),u=0;u<t.length;u++)if(c=t[u],p=C({},c),h.push(p),f=Math.trunc(p.x*s),m=Math.trunc(p.y*o),!(f<0||f>=s||m<0||f>=o)){for(y=Math.trunc((i.kernelSize-1)/2),g=Math.max(0,f-y),v=Math.min(s,f+y+1),x=Math.max(0,m-y),w=Math.min(o,m+y+1),k=0,b=0,M=0,S=0,T=x;T<w;++T)for(P=g;P<v;++P)_=l.get(T,P,u),k+=_,S=Math.max(S,_),b+=P*_,M+=T*_;S>=i.minConfidenceToRefine&&k>0&&(p.x=b/s/k,p.y=M/o/k)}return n.dispose(),[2,h]}}))}))}function ut(t,e,i){return E(this,void 0,void 0,(function(){var n,r,s,a,h;return A(this,(function(l){switch(l.label){case 0:return n=t[0],r=t[1],s=function(t,e,i){return o((function(){var n,r,o,s;i.reverseOutputOrder?(r=d(p(t,[0,i.boxCoordOffset+0],[-1,1])),n=d(p(t,[0,i.boxCoordOffset+1],[-1,1])),s=d(p(t,[0,i.boxCoordOffset+2],[-1,1])),o=d(p(t,[0,i.boxCoordOffset+3],[-1,1]))):(n=d(p(t,[0,i.boxCoordOffset+0],[-1,1])),r=d(p(t,[0,i.boxCoordOffset+1],[-1,1])),o=d(p(t,[0,i.boxCoordOffset+2],[-1,1])),s=d(p(t,[0,i.boxCoordOffset+3],[-1,1]))),r=u(c(g(r,i.xScale),e.w),e.x),n=u(c(g(n,i.yScale),e.h),e.y),i.applyExponentialOnBoxSize?(o=c(v(g(o,i.hScale)),e.h),s=c(v(g(s,i.wScale)),e.w)):(o=c(g(o,i.hScale),e.h),s=c(g(s,i.wScale),e.h));var a=x(n,g(o,2)),h=x(r,g(s,2)),l=u(n,g(o,2)),f=u(r,g(s,2)),m=w([k(a,[i.numBoxes,1]),k(h,[i.numBoxes,1]),k(l,[i.numBoxes,1]),k(f,[i.numBoxes,1])],1);if(i.numKeypoints)for(var y=0;y<i.numKeypoints;++y){var b=i.keypointCoordOffset+y*i.numValuesPerKeypoint,M=void 0,S=void 0;i.reverseOutputOrder?(M=d(p(t,[0,b],[-1,1])),S=d(p(t,[0,b+1],[-1,1]))):(S=d(p(t,[0,b],[-1,1])),M=d(p(t,[0,b+1],[-1,1])));var T=u(c(g(M,i.xScale),e.w),e.x),P=u(c(g(S,i.yScale),e.h),e.y);m=w([m,k(T,[i.numBoxes,1]),k(P,[i.numBoxes,1])],1)}return m}))}(r,e,i),a=o((function(){var t=n;return i.sigmoidScore?(null!=i.scoreClippingThresh&&(t=b(n,-i.scoreClippingThresh,i.scoreClippingThresh)),t=f(t)):t})),[4,ct(s,a,i)];case 1:return h=l.sent(),m([s,a]),[2,h]}}))}))}function ct(t,e,i){return E(this,void 0,void 0,(function(){var n,r,o,s,a,h,l,u,c,p,f,d;return A(this,(function(m){switch(m.label){case 0:return n=[],[4,t.data()];case 1:return r=m.sent(),[4,e.data()];case 2:for(o=m.sent(),s=0;s<i.numBoxes;++s)if(!(null!=i.minScoreThresh&&o[s]<i.minScoreThresh||(a=s*i.numCoords,h=pt(r[a+0],r[a+1],r[a+2],r[a+3],o[s],i.flipVertically,s),(l=h.locationData.relativeBoundingBox).width<0||l.height<0))){if(i.numKeypoints>0)for((u=h.locationData).relativeKeypoints=[],c=i.numKeypoints*i.numValuesPerKeypoint,p=0;p<c;p+=i.numValuesPerKeypoint)f=a+i.keypointCoordOffset+p,d={x:r[f+0],y:i.flipVertically?1-r[f+1]:r[f+1]},u.relativeKeypoints.push(d);n.push(h)}return[2,n]}}))}))}function pt(t,e,i,n,r,o,s){return{score:[r],ind:s,locationData:{relativeBoundingBox:{xMin:e,yMin:o?1-i:t,xMax:n,yMax:o?1-t:i,width:n-e,height:i-t}}}}function ft(t,e,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),E(this,void 0,void 0,(function(){var r,o,s,a,h,l,u,c;return A(this,(function(p){switch(p.label){case 0:return r=t.size,o=r/e.numLandmarks,[4,t.data()];case 1:for(s=p.sent(),a=[],h=0;h<e.numLandmarks;++h)l=h*o,(c={x:0,y:0}).x=i?e.inputImageWidth-s[l]:s[l],o>1&&(c.y=n?e.inputImageHeight-s[l+1]:s[l+1]),o>2&&(c.z=s[l+2]),o>3&&(c.score=(f=s[l+3],1/(1+Math.exp(-f)))),a.push(c);for(u=0;u<a.length;++u)(c=a[u]).x=c.x/e.inputImageWidth,c.y=c.y/e.inputImageHeight,c.z=c.z/e.inputImageWidth/(e.normalizeZ||1);return[2,a]}var f}))}))}function dt(t,e,i){var n=t.width,r=t.height,o=t.rotation;if(null==i.rotation&&null==i.rotationDegree||(o=function(t,e){null!=e.rotation?t+=e.rotation:null!=e.rotationDegree&&(t+=Math.PI*e.rotationDegree/180);return H(t)}(o,i)),0===o)t.xCenter=t.xCenter+n*i.shiftX,t.yCenter=t.yCenter+r*i.shiftY;else{var s=(e.width*n*i.shiftX*Math.cos(o)-e.height*r*i.shiftY*Math.sin(o))/e.width,a=(e.width*n*i.shiftX*Math.sin(o)+e.height*r*i.shiftY*Math.cos(o))/e.height;t.xCenter=t.xCenter+s,t.yCenter=t.yCenter+a}if(i.squareLong){var h=Math.max(n*e.width,r*e.height);n=h/e.width,r=h/e.height}else if(i.squareShort){var l=Math.min(n*e.width,r*e.height);n=l/e.width,r=l/e.height}return t.width=n*i.scaleX,t.height=r*i.scaleY,t}var mt=function(){function t(t){this.alpha=t.alpha}return t.prototype.apply=function(t){var e=this;if(null==t)return this.visibilityFilters=null,null;null!=this.visibilityFilters&&this.visibilityFilters.length===t.length||(this.visibilityFilters=t.map((function(t){return new G(e.alpha)})));for(var i=[],n=0;n<t.length;++n){var r=t[n],o=C({},r);o.score=this.visibilityFilters[n].apply(r.score),i.push(o)}return i},t}(),yt={reduceBoxesInLowestlayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:5,minScale:.1484375,maxScale:.75,inputSizeHeight:224,inputSizeWidth:224,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,32,32,32],aspectRatios:[1],fixedAnchorSize:!0},gt={runtime:\"tfjs\",modelType:\"full\",enableSmoothing:!0,detectorModelUrl:\"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/detector/1\",landmarkModelUrl:\"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/1\"},vt={maxPoses:1,flipHorizontal:!1},xt={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2254,numCoords:12,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:4,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:224,yScale:224,hScale:224,wScale:224,minScoreThresh:.5},wt=-1,kt=.3,bt={shiftX:0,shiftY:0,scaleX:1.25,scaleY:1.25,squareLong:!0},Mt={inputResolution:{width:224,height:224},keepAspectRatio:!0},St={inputResolution:{width:256,height:256},keepAspectRatio:!0},Tt={numLandmarks:39,inputImageWidth:256,inputImageHeight:256},Pt={numLandmarks:39,inputImageWidth:1,inputImageHeight:1},_t={kernelSize:7,minConfidenceToRefine:.5},Ft={alpha:.1},Ot={oneEuroFilter:{frequency:30,minCutOff:.05,beta:80,derivateCutOff:1,minAllowedObjectScale:1e-6}},Rt={oneEuroFilter:{frequency:30,minCutOff:.01,beta:10,derivateCutOff:1,minAllowedObjectScale:1e-6}},Ct={oneEuroFilter:{frequency:30,minCutOff:.1,beta:40,derivateCutOff:1,minAllowedObjectScale:1e-6,disableValueScaling:!0}};var Et=function(){function t(t,e,i,n){this.detectorModel=t,this.landmarkModel=e,this.enableSmoothing=i,this.modelType=n,this.regionOfInterest=null,this.anchors=function(t){for(var e=[],i=0;i<t.numLayers;){for(var n=[],r=[],o=[],s=[],a=i;a<t.strides.length&&t.strides[a]===t.strides[i];){var h=ot(t.minScale,t.maxScale,a,t.strides.length);if(0===a&&t.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),s.push(.1),s.push(h),s.push(h);else{for(var l=0;l<t.aspectRatios.length;++l)o.push(t.aspectRatios[l]),s.push(h);if(t.interpolatedScaleAspectRatio>0){var u=a===t.strides.length-1?1:ot(t.minScale,t.maxScale,a+1,t.strides.length);s.push(Math.sqrt(h*u)),o.push(t.interpolatedScaleAspectRatio)}}a++}for(var c=0;c<o.length;++c){var p=Math.sqrt(o[c]);n.push(s[c]/p),r.push(s[c]*p)}var f=0,d=0;if(t.featureMapHeight.length>0)f=t.featureMapHeight[i],d=t.featureMapWidth[i];else{var m=t.strides[i];f=Math.ceil(t.inputSizeHeight/m),d=Math.ceil(t.inputSizeWidth/m)}for(var y=0;y<f;++y)for(var g=0;g<d;++g)for(var v=0;v<n.length;++v){var x={xCenter:(g+t.anchorOffsetX)/d,yCenter:(y+t.anchorOffsetY)/f,width:0,height:0};t.fixedAnchorSize?(x.width=1,x.height=1):(x.width=r[v],x.height=n[v]),e.push(x)}i=a}return e}(yt);var r=y(this.anchors.map((function(t){return t.width}))),o=y(this.anchors.map((function(t){return t.height}))),s=y(this.anchors.map((function(t){return t.xCenter}))),a=y(this.anchors.map((function(t){return t.yCenter})));this.anchorTensor={x:s,y:a,w:r,h:o}}return t.prototype.estimatePoses=function(t,e,i){return E(this,void 0,void 0,(function(){var n,r,s,a,h,u,c,p,f,d,m,y,g,v,x,w,k,b;return A(this,(function(M){switch(M.label){case 0:return n=function(t){var e;if(null==(e=null==t?vt:C({},t)).maxPoses&&(e.maxPoses=1),e.maxPoses<=0)throw new Error(\"Invalid maxPoses \"+e.maxPoses+\". Should be > 0.\");if(e.maxPoses>1)throw new Error(\"Multi-pose detection is not implemented yet. Please set maxPoses to 1.\");return e}(e),null==t?(this.reset(),[2,[]]):(this.maxPoses=n.maxPoses,this.timestamp=null!=i?1e3*i:Y(t)?1e6*t.currentTime:null,r=q(t),s=o((function(){return l(U(t),\"float32\")})),null!=(a=this.regionOfInterest)?[3,2]:[4,this.detectPose(s)]);case 1:if(0===(h=M.sent()).length)return this.reset(),s.dispose(),[2,[]];u=h[0],a=this.poseDetectionToRoi(u,r),M.label=2;case 2:return[4,this.poseLandmarksByRoi(a,s)];case 3:return c=M.sent(),s.dispose(),null==c?(this.reset(),[2,[]]):(p=c.actualLandmarks,f=c.auxiliaryLandmarks,d=c.poseScore,m=c.actualWorldLandmarks,y=this.poseLandmarkFiltering(p,f,m,r),g=y.actualLandmarksFiltered,v=y.auxiliaryLandmarksFiltered,x=y.actualWorldLandmarksFiltered,w=this.poseLandmarksToRoi(v,r),this.regionOfInterest=w,null!=(k=null!=g?et(g,r):null)&&k.forEach((function(t,e){t.name=I[e]})),null!=(b=x)&&b.forEach((function(t,e){t.name=I[e]})),[2,[{score:d,keypoints:k,keypoints3D:b}]])}}))}))},t.prototype.dispose=function(){this.detectorModel.dispose(),this.landmarkModel.dispose(),m([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},t.prototype.reset=function(){this.regionOfInterest=null,this.visibilitySmoothingFilterActual=null,this.visibilitySmoothingFilterAuxiliary=null,this.landmarksSmoothingFilterActual=null,this.landmarksSmoothingFilterAuxiliary=null},t.prototype.detectPose=function(t){return E(this,void 0,void 0,(function(){var e,i,n,r,o,s,a,h,l;return A(this,(function(u){switch(u.label){case 0:return e=W(t,Mt),i=e.imageTensor,n=e.padding,r=nt(i,[-1,1]),o=st(r,this.detectorModel),s=o.boxes,[4,ut([a=o.scores,s],this.anchorTensor,xt)];case 1:return[4,ht(u.sent(),this.maxPoses,kt,wt)];case 2:return h=u.sent(),l=function(t,e){void 0===t&&(t=[]);for(var i=e.left,n=e.top,r=e.left+e.right,o=e.top+e.bottom,s=0;s<t.length;s++){var a=t[s],h=a.locationData.relativeBoundingBox,l=(h.xMin-i)/(1-r),u=(h.yMin-n)/(1-o),c=h.width/(1-r),p=h.height/(1-o);h.xMin=l,h.yMin=u,h.width=c,h.height=p;for(var f=0;f<a.locationData.relativeKeypoints.length;++f){var d=a.locationData.relativeKeypoints[f],m=(d.x-i)/(1-r),y=(d.y-n)/(1-o);d.x=m,d.y=y}}return t}(h,n),m([i,r,a,s]),[2,l]}}))}))},t.prototype.poseDetectionToRoi=function(t,e){return 0,1,dt(rt(t,e,{rotationVectorEndKeypointIndex:1,rotationVectorStartKeypointIndex:0,rotationVectorTargetAngleDegree:90}),e,bt)},t.prototype.poseLandmarksByRoi=function(t,e){return E(this,void 0,void 0,(function(){var i,n,r,o,s,a,h,l,u,c,p,f,d,y,g,v,x,w,k,b;return A(this,(function(M){switch(M.label){case 0:if(i=W(e,St,t),n=i.imageTensor,r=i.padding,o=nt(n,[0,1]),\"lite\"!==this.modelType&&\"full\"!==this.modelType&&\"heavy\"!==this.modelType)throw new Error(\"Model type must be one of lite, full or heavy,but got \"+this.modelType);return s=this.landmarkModel.execute(o,[\"ld_3d\",\"output_poseflag\",\"activation_heatmap\",\"world_3d\"]),a=s[0],h=s[1],l=s[2],u=s[3],[4,h.data()];case 1:return(c=M.sent()[0])<.5?(m(s),m([n,o]),[2,null]):[4,ft(a,Tt)];case 2:return[4,lt(p=M.sent(),l,_t)];case 3:return f=M.sent(),d=function(t,e){var i=e.left,n=e.top,r=e.left+e.right,o=e.top+e.bottom;return t.map((function(t){return C({},t,{x:(t.x-i)/(1-r),y:(t.y-n)/(1-o),z:t.z/(1-r)})}))}(f,r),y=function(t,e,i){void 0===i&&(i={ignoreRotation:!1});for(var n=[],r=0,o=t;r<o.length;r++){var s=o[r],a=s.x-.5,h=s.y-.5,l=i.ignoreRotation?0:e.rotation,u=Math.cos(l)*a-Math.sin(l)*h,c=Math.sin(l)*a+Math.cos(l)*h;u=u*e.width+e.xCenter,c=c*e.height+e.yCenter;var p=s.z*e.width,f=C({},s);f.x=u,f.y=c,f.z=p,n.push(f)}return n}(d,t),g=y.slice(0,33),v=y.slice(33,35),[4,ft(u,Pt)];case 4:return x=M.sent(),w=function(t,e,i){void 0===i&&(i=!0);for(var n=[],r=0;r<t.length;r++){var o=C({},e[r]);i&&(o.score=t[r].score),n.push(o)}return n}(p,x,!0),k=function(t,e){for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n],s=o.x,a=o.y,h=e.rotation,l=Math.cos(h)*s-Math.sin(h)*a,u=Math.sin(h)*s+Math.cos(h)*a,c=C({},o);c.x=l,c.y=u,i.push(c)}return i}(w,t),b=k.slice(0,33),m(s),m([n,o]),[2,{actualLandmarks:g,auxiliaryLandmarks:v,poseScore:c,actualWorldLandmarks:b}]}}))}))},t.prototype.poseLandmarksToRoi=function(t,e){return dt(rt(at(t),e,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:90}),e,bt)},t.prototype.poseLandmarkFiltering=function(t,e,i,n){var r,o,s;if(null!=this.timestamp&&this.enableSmoothing){var a=rt(at(e),n,{rotationVectorEndKeypointIndex:0,rotationVectorStartKeypointIndex:1,rotationVectorTargetAngleDegree:90});null==this.visibilitySmoothingFilterActual&&(this.visibilitySmoothingFilterActual=new mt(Ft)),r=this.visibilitySmoothingFilterActual.apply(t),null==this.visibilitySmoothingFilterAuxiliary&&(this.visibilitySmoothingFilterAuxiliary=new mt(Ft)),o=this.visibilitySmoothingFilterAuxiliary.apply(e),s=this.visibilitySmoothingFilterActual.apply(i),null==this.landmarksSmoothingFilterActual&&(this.landmarksSmoothingFilterActual=new it(Ot)),r=this.landmarksSmoothingFilterActual.apply(r,this.timestamp,n,!0,a),null==this.landmarksSmoothingFilterAuxiliary&&(this.landmarksSmoothingFilterAuxiliary=new it(Rt)),o=this.landmarksSmoothingFilterAuxiliary.apply(o,this.timestamp,n,!0,a),null==this.worldLandmarksSmoothingFilterActual&&(this.worldLandmarksSmoothingFilterActual=new it(Ct)),s=this.worldLandmarksSmoothingFilterActual.apply(i,this.timestamp)}else r=t,o=e,s=i;return{actualLandmarksFiltered:r,auxiliaryLandmarksFiltered:o,actualWorldLandmarksFiltered:s}},t}();function At(t){return E(this,void 0,void 0,(function(){var i,n,r,o,s,a;return A(this,(function(h){switch(h.label){case 0:return i=function(t){var e=C({},null==t?gt:t);if(null==e.enableSmoothing&&(e.enableSmoothing=gt.enableSmoothing),null==e.modelType&&(e.modelType=gt.modelType),null==e.detectorModelUrl&&(e.detectorModelUrl=gt.detectorModelUrl),null==e.landmarkModelUrl)switch(e.modelType){case\"lite\":e.landmarkModelUrl=\"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/lite/1\";break;case\"heavy\":e.landmarkModelUrl=\"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/heavy/1\";break;case\"full\":default:e.landmarkModelUrl=\"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/1\"}return e}(t),n=i.detectorModelUrl.indexOf(\"https://tfhub.dev\")>-1,r=i.landmarkModelUrl.indexOf(\"https://tfhub.dev\")>-1,[4,Promise.all([e(i.detectorModelUrl,{fromTFHub:n}),e(i.landmarkModelUrl,{fromTFHub:r})])];case 1:return o=h.sent(),s=o[0],a=o[1],[2,new Et(s,a,i.enableSmoothing,i.modelType)]}}))}))}var zt,It,Bt=function(){function t(t){!function(t){if(t.maxTracks<1)throw new Error(\"Must specify 'maxTracks' to be at least 1, but encountered \"+t.maxTracks);if(t.maxAge<=0)throw new Error(\"Must specify 'maxAge' to be positive, but encountered \"+t.maxAge);if(void 0!==t.keypointTrackerParams){if(t.keypointTrackerParams.keypointConfidenceThreshold<0||t.keypointTrackerParams.keypointConfidenceThreshold>1)throw new Error(\"Must specify 'keypointConfidenceThreshold' to be in the range [0, 1], but encountered \"+t.keypointTrackerParams.keypointConfidenceThreshold);if(t.keypointTrackerParams.minNumberOfKeypoints<1)throw new Error(\"Must specify 'minNumberOfKeypoints' to be at least 1, but encountered \"+t.keypointTrackerParams.minNumberOfKeypoints);for(var e=0,i=t.keypointTrackerParams.keypointFalloff;e<i.length;e++){var n=i[e];if(n<=0)throw new Error(\"Must specify each keypoint falloff parameterto be positive but encountered \"+n)}}}(t),this.tracks=[],this.maxTracks=t.maxTracks,this.maxAge=1e3*t.maxAge,this.minSimilarity=t.minSimilarity,this.nextID=1}return t.prototype.apply=function(t,e){this.filterOldTracks(e);var i=this.computeSimilarity(t);return this.assignTracks(t,i,e),this.updateTracks(e),t},t.prototype.getTracks=function(){return this.tracks.slice()},t.prototype.getTrackIDs=function(){return new Set(this.tracks.map((function(t){return t.id})))},t.prototype.filterOldTracks=function(t){var e=this;this.tracks=this.tracks.filter((function(i){return t-i.lastTimestamp<=e.maxAge}))},t.prototype.assignTracks=function(t,e,i){for(var n=Array.from(Array(e[0].length).keys()),r=[],o=0,s=Array.from(Array(t.length).keys());o<s.length;o++){var a=s[o];if(0!==n.length){for(var h=-1,l=-1,u=0,c=n;u<c.length;u++){var p=c[u],f=e[a][p];f>=this.minSimilarity&&f>l&&(h=p,l=f)}if(h>=0){var d=this.tracks[h];d=Object.assign(d,this.createTrack(t[a],i,d.id)),t[a].id=d.id;var m=n.indexOf(h);n.splice(m,1)}else r.push(a)}else r.push(a)}for(var y=0,g=r;y<g.length;y++){a=g[y];var v=this.createTrack(t[a],i);this.tracks.push(v),t[a].id=v.id}},t.prototype.updateTracks=function(t){this.tracks.sort((function(t,e){return e.lastTimestamp-t.lastTimestamp})),this.tracks=this.tracks.slice(0,this.maxTracks)},t.prototype.createTrack=function(t,e,i){var n={id:i||this.nextTrackID(),lastTimestamp:e,keypoints:t.keypoints.slice().map((function(t){return C({},t)}))};return void 0!==t.box&&(n.box=C({},t.box)),n},t.prototype.nextTrackID=function(){var t=this.nextID;return this.nextID+=1,t},t.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.tracks=this.tracks.filter((function(e){return!t.includes(e.id)}))},t.prototype.reset=function(){this.tracks=[]},t}(),Nt=function(t){function e(e){return t.call(this,e)||this}return R(e,t),e.prototype.computeSimilarity=function(t){var e=this;return 0===t.length||0===this.tracks.length?[[]]:t.map((function(t){return e.tracks.map((function(i){return e.iou(t,i)}))}))},e.prototype.iou=function(t,e){var i=Math.max(t.box.xMin,e.box.xMin),n=Math.max(t.box.yMin,e.box.yMin),r=Math.min(t.box.xMax,e.box.xMax),o=Math.min(t.box.yMax,e.box.yMax);if(i>=r||n>=o)return 0;var s=(r-i)*(o-n);return s/(t.box.width*t.box.height+e.box.width*e.box.height-s)},e}(Bt),Lt=function(t){function e(e){var i=t.call(this,e)||this;return i.keypointThreshold=e.keypointTrackerParams.keypointConfidenceThreshold,i.keypointFalloff=e.keypointTrackerParams.keypointFalloff,i.minNumKeyoints=e.keypointTrackerParams.minNumberOfKeypoints,i}return R(e,t),e.prototype.computeSimilarity=function(t){if(0===t.length||0===this.tracks.length)return[[]];for(var e=[],i=0,n=t;i<n.length;i++){for(var r=n[i],o=[],s=0,a=this.tracks;s<a.length;s++){var h=a[s];o.push(this.oks(r,h))}e.push(o)}return e},e.prototype.oks=function(t,e){for(var i=this.area(e.keypoints)+1e-6,n=0,r=0,o=0;o<t.keypoints.length;++o){var s=t.keypoints[o],a=e.keypoints[o];if(!(s.score<this.keypointThreshold||a.score<this.keypointThreshold)){r+=1;var h=Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2),l=2*this.keypointFalloff[o];n+=Math.exp(-1*h/(2*i*Math.pow(l,2)))}}return r<this.minNumKeyoints?0:n/r},e.prototype.area=function(t){var e=this,i=t.filter((function(t){return t.score>e.keypointThreshold})),n=Math.min.apply(Math,[1].concat(i.map((function(t){return t.x})))),r=Math.max.apply(Math,[0].concat(i.map((function(t){return t.x})))),o=Math.min.apply(Math,[1].concat(i.map((function(t){return t.y}))));return(r-n)*(Math.max.apply(Math,[0].concat(i.map((function(t){return t.y}))))-o)},e}(Bt);function Vt(t){switch(t){case It.BlazePose:return I.reduce((function(t,e,i){return t[e]=i,t}),{});case It.PoseNet:case It.MoveNet:return z.reduce((function(t,e,i){return t[e]=i,t}),{});default:throw new Error(\"Model \"+t+\" is not supported.\")}}!function(t){t.Keypoint=\"keypoint\",t.BoundingBox=\"boundingBox\"}(zt||(zt={})),function(t){t.MoveNet=\"MoveNet\",t.BlazePose=\"BlazePose\",t.PoseNet=\"PoseNet\"}(It||(It={}));var Kt=Object.freeze({__proto__:null,getKeypointIndexBySide:function(t){switch(t){case It.BlazePose:return B;case It.PoseNet:case It.MoveNet:return N;default:throw new Error(\"Model \"+t+\" is not supported.\")}},getAdjacentPairs:function(t){switch(t){case It.BlazePose:return V;case It.PoseNet:case It.MoveNet:return L;default:throw new Error(\"Model \"+t+\" is not supported.\")}},getKeypointIndexByName:Vt}),Dt=[\"SinglePose.Lightning\",\"SinglePose.Thunder\",\"MultiPose.Lightning\"],jt={modelType:\"SinglePose.Lightning\",enableSmoothing:!0},qt={},Ht={frequency:30,minCutOff:2.5,beta:300,derivateCutOff:2.5,thresholdCutOff:.5,thresholdBeta:5,disableValueScaling:!0},Ut={maxTracks:18,maxAge:1e3,minSimilarity:.2,keypointTrackerParams:{keypointConfidenceThreshold:.3,keypointFalloff:[.026,.025,.025,.035,.035,.079,.079,.072,.072,.062,.062,.107,.107,.087,.087,.089,.089],minNumberOfKeypoints:4}},Xt={maxTracks:18,maxAge:1e3,minSimilarity:.15,trackerParams:{}};function Wt(t,e,i,n){for(var r={},o=0,s=z;o<s.length;o++){var a=s[o];r[a]=[e[i[a]].y*n.height,e[i[a]].x*n.width]}if(function(t,e){return(t[e.left_hip].score>.2||t[e.right_hip].score>.2)&&(t[e.left_shoulder].score>.2||t[e.right_shoulder].score>.2)}(e,i)){var h=(r.left_hip[0]+r.right_hip[0])/2,l=(r.left_hip[1]+r.right_hip[1])/2,u=function(t,e,i,n,r){for(var o=[\"left_shoulder\",\"right_shoulder\",\"left_hip\",\"right_hip\"],s=0,a=0,h=0;h<o.length;h++){(f=Math.abs(n-i[o[h]][0]))>s&&(s=f),(d=Math.abs(r-i[o[h]][1]))>a&&(a=d)}for(var l=0,u=0,c=0,p=Object.keys(i);c<p.length;c++){var f,d,m=p[c];if(!(t[e[m]].score<.2))(f=Math.abs(n-i[m][0]))>l&&(l=f),(d=Math.abs(r-i[m][1]))>u&&(u=d)}return[s,a,l,u]}(e,i,r,h,l),c=u[0],p=u[1],f=u[2],d=u[3],m=Math.max(1.9*p,1.9*c,1.2*f,1.2*d),y=[h-(m=Math.min(m,Math.max(l,n.width-l,h,n.height-h))),l-m];if(m>Math.max(n.width,n.height)/2)return Yt(null==t,n);var g=2*m;return{yMin:y[0]/n.height,xMin:y[1]/n.width,yMax:(y[0]+g)/n.height,xMax:(y[1]+g)/n.width,height:(y[0]+g)/n.height-y[0]/n.height,width:(y[1]+g)/n.width-y[1]/n.width}}return Yt(null==t,n)}function Yt(t,e){var i,n,r,o;return t?e.width>e.height?(i=1,n=e.height/e.width,r=0,o=(e.width/2-e.height/2)/e.width):(i=e.width/e.height,n=1,r=(e.height/2-e.width/2)/e.height,o=0):e.width>e.height?(i=e.width/e.height,n=1,r=(e.height/2-e.width/2)/e.height,o=0):(i=1,n=e.height/e.width,r=0,o=(e.width/2-e.height/2)/e.width),{yMin:r,xMin:o,yMax:r+i,xMax:o+n,height:i,width:n}}function Gt(t){var e,i=null==t?jt:C({},t);if(null==i.modelType)i.modelType=\"SinglePose.Lightning\";else if(Dt.indexOf(i.modelType)<0)throw new Error(\"Invalid architecture \"+i.modelType+\". Should be one of \"+Dt);if(null==i.enableSmoothing&&(i.enableSmoothing=!0),null!=i.minPoseScore&&(i.minPoseScore<0||i.minPoseScore>1))throw new Error(\"minPoseScore should be between 0.0 and 1.0\");if(null!=i.multiPoseMaxDimension&&(i.multiPoseMaxDimension%32!=0||i.multiPoseMaxDimension<128||i.multiPoseMaxDimension>512))throw new Error(\"multiPoseResolution must be a multiple of 32 and between 128 and 512\");if(\"MultiPose.Lightning\"===i.modelType&&null==i.enableTracking&&(i.enableTracking=!0),\"MultiPose.Lightning\"===i.modelType&&!0===i.enableTracking)if(null==i.trackerType&&(i.trackerType=zt.BoundingBox),i.trackerType===zt.Keypoint)null!=i.trackerConfig?i.trackerConfig=function(t){var e=Qt(Ut,t);e.keypointTrackerParams=C({},Ut.keypointTrackerParams),null!=t.keypointTrackerParams&&(null!=t.keypointTrackerParams.keypointConfidenceThreshold&&(e.keypointTrackerParams.keypointConfidenceThreshold=t.keypointTrackerParams.keypointConfidenceThreshold),null!=t.keypointTrackerParams.keypointFalloff&&(e.keypointTrackerParams.keypointFalloff=t.keypointTrackerParams.keypointFalloff),null!=t.keypointTrackerParams.minNumberOfKeypoints&&(e.keypointTrackerParams.minNumberOfKeypoints=t.keypointTrackerParams.minNumberOfKeypoints));return e}(i.trackerConfig):i.trackerConfig=Ut;else{if(i.trackerType!==zt.BoundingBox)throw new Error(\"Tracker type not supported by MoveNet\");null!=i.trackerConfig?i.trackerConfig=(e=i.trackerConfig,Qt(Xt,e)):i.trackerConfig=Xt}return i}function Qt(t,e){var i={maxTracks:t.maxTracks,maxAge:t.maxAge,minSimilarity:t.minSimilarity};return null!=e.maxTracks&&(i.maxTracks=e.maxTracks),null!=e.maxAge&&(i.maxAge=e.maxAge),null!=e.minSimilarity&&(i.minSimilarity=e.minSimilarity),i}var Zt=function(){function t(t,e){this.moveNetModel=t,this.modelInputResolution={height:0,width:0},this.keypointIndexByName=Vt(It.MoveNet),\"SinglePose.Lightning\"===e.modelType?(this.modelInputResolution.width=192,this.modelInputResolution.height=192):\"SinglePose.Thunder\"===e.modelType&&(this.modelInputResolution.width=256,this.modelInputResolution.height=256),this.multiPoseModel=\"MultiPose.Lightning\"===e.modelType,this.multiPoseModel||(this.keypointFilter=new Z(Ht),this.cropRegionFilterYMin=new G(.9),this.cropRegionFilterXMin=new G(.9),this.cropRegionFilterYMax=new G(.9),this.cropRegionFilterXMax=new G(.9)),this.enableSmoothing=e.enableSmoothing,e.minPoseScore?this.minPoseScore=e.minPoseScore:this.minPoseScore=.25,e.multiPoseMaxDimension?this.multiPoseMaxDimension=e.multiPoseMaxDimension:this.multiPoseMaxDimension=256,this.enableTracking=e.enableTracking,this.multiPoseModel&&this.enableTracking&&(e.trackerType===zt.Keypoint?this.tracker=new Lt(e.trackerConfig):e.trackerType===zt.BoundingBox&&(this.tracker=new Nt(e.trackerConfig)),this.enableSmoothing&&(this.keypointFilterMap=new Map))}return t.prototype.runSinglePersonPoseModel=function(t){return E(this,void 0,void 0,(function(){var e,i,n,r,o;return A(this,(function(s){switch(s.label){case 0:if(4!==(e=this.moveNetModel.execute(t)).shape.length||1!==e.shape[0]||1!==e.shape[1]||17!==e.shape[2]||3!==e.shape[3])throw e.dispose(),new Error(\"Unexpected output shape from model: [\"+e.shape+\"]\");return\"webgpu\"===M()?[3,1]:(i=e.dataSync(),[3,3]);case 1:return[4,e.data()];case 2:i=s.sent(),s.label=3;case 3:for(e.dispose(),n={keypoints:[],score:0},r=0,o=0;o<17;++o)n.keypoints[o]={y:i[3*o],x:i[3*o+1],score:i[3*o+2]},n.keypoints[o].score>.2&&(++r,n.score+=n.keypoints[o].score);return r>0&&(n.score/=r),[2,n]}}))}))},t.prototype.runMultiPersonPoseModel=function(t){return E(this,void 0,void 0,(function(){var e,i,n,r,o,s,a,h;return A(this,(function(l){switch(l.label){case 0:if(3!==(e=this.moveNetModel.execute(t)).shape.length||1!==e.shape[0]||56!==e.shape[2])throw e.dispose(),new Error(\"Unexpected output shape from model: [\"+e.shape+\"]\");return\"webgpu\"===M()?[3,1]:(i=e.dataSync(),[3,3]);case 1:return[4,e.data()];case 2:i=l.sent(),l.label=3;case 3:for(e.dispose(),n=[],r=i.length/56,o=0;o<r;++o)for(n[o]={keypoints:[]},s=56*o+51,n[o].box={yMin:i[s],xMin:i[s+1],yMax:i[s+2],xMax:i[s+3],width:i[s+3]-i[s+1],height:i[s+2]-i[s]},a=56*o+55,n[o].score=i[a],n[o].keypoints=[],h=0;h<17;++h)n[o].keypoints[h]={y:i[56*o+3*h],x:i[56*o+3*h+1],score:i[56*o+3*h+2]};return[2,n]}}))}))},t.prototype.estimatePoses=function(t,e,n){return void 0===e&&(e=qt),E(this,void 0,void 0,(function(){var r,o,s,a,l,u;return A(this,(function(c){switch(c.label){case 0:return e=function(t){return null==t?qt:C({},t)}(e),null==t?(this.reset(),[2,[]]):(null==n?Y(t)&&(n=1e6*t.currentTime):n*=1e3,r=U(t),o=q(r),s=h(r,0),t instanceof i||r.dispose(),a=[],this.multiPoseModel?[3,2]:[4,this.estimateSinglePose(s,o,n)]);case 1:return a=c.sent(),[3,4];case 2:return[4,this.estimateMultiplePoses(s,o,n)];case 3:a=c.sent(),c.label=4;case 4:for(l=0;l<a.length;++l)for(u=0;u<a[l].keypoints.length;++u)a[l].keypoints[u].name=z[u],a[l].keypoints[u].y*=o.height,a[l].keypoints[u].x*=o.width;return[2,a]}}))}))},t.prototype.estimateSinglePose=function(t,e,i){return E(this,void 0,void 0,(function(){var n,r,h,u,c=this;return A(this,(function(p){switch(p.label){case 0:return this.cropRegion||(this.cropRegion=Yt(null==this.cropRegion,e)),n=o((function(){var e=s([[c.cropRegion.yMin,c.cropRegion.xMin,c.cropRegion.yMax,c.cropRegion.xMax]]),i=T([1],\"int32\"),n=[c.modelInputResolution.height,c.modelInputResolution.width];return l(a.cropAndResize(t,e,i,n,\"bilinear\",0),\"int32\")})),t.dispose(),[4,this.runSinglePersonPoseModel(n)];case 1:if(r=p.sent(),n.dispose(),r.score<this.minPoseScore)return this.reset(),[2,[]];for(h=0;h<r.keypoints.length;++h)r.keypoints[h].y=this.cropRegion.yMin+r.keypoints[h].y*this.cropRegion.height,r.keypoints[h].x=this.cropRegion.xMin+r.keypoints[h].x*this.cropRegion.width;return null!=i&&this.enableSmoothing&&(r.keypoints=this.keypointFilter.apply(r.keypoints,i,1)),u=Wt(this.cropRegion,r.keypoints,this.keypointIndexByName,e),this.cropRegion=this.filterCropRegion(u),[2,[r]]}}))}))},t.prototype.estimateMultiplePoses=function(t,e,i){return E(this,void 0,void 0,(function(){var n,r,o,s,h,u,c,p,f,d,m,y=this;return A(this,(function(g){switch(g.label){case 0:return 32,e.width>e.height?(r=this.multiPoseMaxDimension,o=Math.round(this.multiPoseMaxDimension*e.height/e.width),n=a.resizeBilinear(t,[o,r]),h=r,u=32*Math.ceil(o/32),s=P(n,[[0,0],[0,u-o],[0,0],[0,0]])):(r=Math.round(this.multiPoseMaxDimension*e.width/e.height),o=this.multiPoseMaxDimension,n=a.resizeBilinear(t,[o,r]),h=32*Math.ceil(r/32),u=o,s=P(n,[[0,0],[0,0],[0,h-r],[0,0]])),n.dispose(),t.dispose(),c=l(s,\"int32\"),s.dispose(),[4,this.runMultiPersonPoseModel(c)];case 1:for(p=g.sent(),c.dispose(),p=p.filter((function(t){return t.score>=y.minPoseScore})),d=0;d<p.length;++d)for(f=0;f<p[d].keypoints.length;++f)p[d].keypoints[f].y*=u/o,p[d].keypoints[f].x*=h/r;if(this.enableTracking&&(this.tracker.apply(p,i),this.enableSmoothing)){for(d=0;d<p.length;++d)this.keypointFilterMap.has(p[d].id)||this.keypointFilterMap.set(p[d].id,new Z(Ht)),p[d].keypoints=this.keypointFilterMap.get(p[d].id).apply(p[d].keypoints,i,1);m=this.tracker.getTrackIDs(),this.keypointFilterMap.forEach((function(t,e){m.has(e)||y.keypointFilterMap.delete(e)}))}return[2,p]}}))}))},t.prototype.filterCropRegion=function(t){if(t){var e=this.cropRegionFilterYMin.apply(t.yMin),i=this.cropRegionFilterXMin.apply(t.xMin),n=this.cropRegionFilterYMax.apply(t.yMax),r=this.cropRegionFilterXMax.apply(t.xMax);return{yMin:e,xMin:i,yMax:n,xMax:r,height:n-e,width:r-i}}return this.cropRegionFilterYMin.reset(),this.cropRegionFilterXMin.reset(),this.cropRegionFilterYMax.reset(),this.cropRegionFilterXMax.reset(),null},t.prototype.dispose=function(){this.moveNetModel.dispose()},t.prototype.reset=function(){this.cropRegion=null,this.resetFilters()},t.prototype.resetFilters=function(){this.keypointFilter.reset(),this.cropRegionFilterYMin.reset(),this.cropRegionFilterXMin.reset(),this.cropRegionFilterYMax.reset(),this.cropRegionFilterXMax.reset()},t}();function $t(t){return void 0===t&&(t=jt),E(this,void 0,void 0,(function(){var i,n,r,o;return A(this,(function(s){switch(s.label){case 0:return i=Gt(t),r=!0,i.modelUrl?(r=i.modelUrl.indexOf(\"https://tfhub.dev\")>-1,[4,e(i.modelUrl,{fromTFHub:r})]):[3,2];case 1:return n=s.sent(),[3,4];case 2:return o=void 0,\"SinglePose.Lightning\"===i.modelType?o=\"https://tfhub.dev/google/tfjs-model/movenet/singlepose/lightning/4\":\"SinglePose.Thunder\"===i.modelType?o=\"https://tfhub.dev/google/tfjs-model/movenet/singlepose/thunder/4\":\"MultiPose.Lightning\"===i.modelType&&(o=\"https://tfhub.dev/google/tfjs-model/movenet/multipose/lightning/1\"),[4,e(o,{fromTFHub:r})];case 3:n=s.sent(),s.label=4;case 4:return\"webgl\"===M()&&S().set(\"TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD\",0),[2,new Zt(n,i)]}}))}))}var Jt={architecture:\"MobileNetV1\",outputStride:16,multiplier:.75,inputResolution:{height:257,width:257}},te=[\"MobileNetV1\",\"ResNet50\"],ee={MobileNetV1:[8,16],ResNet50:[16]},ie=[8,16,32],ne={MobileNetV1:[.5,.75,1],ResNet50:[1]},re=[1,2,4],oe={maxPoses:1,flipHorizontal:!1},se={maxPoses:5,flipHorizontal:!1,scoreThreshold:.5,nmsRadius:20},ae=[-123.15,-115.9,-103.06];function he(t){return Math.floor(t/2)}var le=function(){function t(t,e){this.priorityQueue=new Array(t),this.numberOfElements=-1,this.getElementValue=e}return t.prototype.enqueue=function(t){this.priorityQueue[++this.numberOfElements]=t,this.swim(this.numberOfElements)},t.prototype.dequeue=function(){var t=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,t},t.prototype.empty=function(){return-1===this.numberOfElements},t.prototype.size=function(){return this.numberOfElements+1},t.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},t.prototype.max=function(){return this.priorityQueue[0]},t.prototype.swim=function(t){for(;t>0&&this.less(he(t),t);)this.exchange(t,he(t)),t=he(t)},t.prototype.sink=function(t){for(;2*t<=this.numberOfElements;){var e=2*t;if(e<this.numberOfElements&&this.less(e,e+1)&&e++,!this.less(t,e))break;this.exchange(t,e),t=e}},t.prototype.getValueAt=function(t){return this.getElementValue(this.priorityQueue[t])},t.prototype.less=function(t,e){return this.getValueAt(t)<this.getValueAt(e)},t.prototype.exchange=function(t,e){var i=this.priorityQueue[t];this.priorityQueue[t]=this.priorityQueue[e],this.priorityQueue[e]=i},t}();function ue(t,e,i,n,r,o){for(var s=o.shape,a=s[0],h=s[1],l=!0,u=Math.max(i-r,0),c=Math.min(i+r+1,a),p=u;p<c;++p){for(var f=Math.max(n-r,0),d=Math.min(n+r+1,h),m=f;m<d;++m)if(o.get(p,m,t)>e){l=!1;break}if(!l)break}return l}function ce(t){return E(this,void 0,void 0,(function(){return A(this,(function(e){return[2,Promise.all(t.map((function(t){return t.buffer()})))]}))}))}function pe(t,e,i,n){return{y:n.get(t,e,i),x:n.get(t,e,i+17)}}function fe(t,e,i){var n=pe(t.heatmapY,t.heatmapX,t.id,i),r=n.y,o=n.x;return{x:t.heatmapX*e+o,y:t.heatmapY*e+r}}function de(t,e,i,n){var r=i.x,o=i.y;return t.some((function(t){var i,s,a,h,l,u,c=t.keypoints;return i=o,s=r,a=c[n].y,h=c[n].x,(l=a-i)*l+(u=h-s)*u<=e}))}var me=z.reduce((function(t,e,i){return t[e]=i,t}),{}),ye=[[\"nose\",\"left_eye\"],[\"left_eye\",\"left_ear\"],[\"nose\",\"right_eye\"],[\"right_eye\",\"right_ear\"],[\"nose\",\"left_shoulder\"],[\"left_shoulder\",\"left_elbow\"],[\"left_elbow\",\"left_wrist\"],[\"left_shoulder\",\"left_hip\"],[\"left_hip\",\"left_knee\"],[\"left_knee\",\"left_ankle\"],[\"nose\",\"right_shoulder\"],[\"right_shoulder\",\"right_elbow\"],[\"right_elbow\",\"right_wrist\"],[\"right_shoulder\",\"right_hip\"],[\"right_hip\",\"right_knee\"],[\"right_knee\",\"right_ankle\"]].map((function(t){var e=t[0],i=t[1];return[me[e],me[i]]})),ge=ye.map((function(t){return t[1]})),ve=ye.map((function(t){return t[0]}));function xe(t,e,i){return t<e?e:t>i?i:t}function we(t,e,i,n){return{y:xe(Math.round(t.y/e),0,i-1),x:xe(Math.round(t.x/e),0,n-1)}}function ke(t,e){return{x:t.x+e.x,y:t.y+e.y}}function be(t,e,i,n,r,o,s,a){void 0===a&&(a=2);for(var h=n.shape,l=h[0],u=h[1],c={y:e.y,x:e.x},p=ke(c,function(t,e,i){var n=i.shape[2]/2;return{y:i.get(e.y,e.x,t),x:i.get(e.y,e.x,n+t)}}(t,we(c,o,l,u),s)),f=0;f<a;f++){var d=we(p,o,l,u),m=pe(d.y,d.x,i,r);p=ke({x:d.x*o,y:d.y*o},{x:m.x,y:m.y})}var y=we(p,o,l,u),g=n.get(y.y,y.x,i);return{y:p.y,x:p.x,name:z[i],score:g}}function Me(t,e,i,n,r,o){var s=e.shape[2],a=ge.length,h=new Array(s),l=t.part,u=t.score,c=fe(l,n,i);h[l.id]={score:u,name:z[l.id],y:c.y,x:c.x};for(var p=a-1;p>=0;--p){var f=ge[p],d=ve[p];h[f]&&!h[d]&&(h[d]=be(p,h[f],d,e,i,n,o))}for(p=0;p<a;++p){f=ve[p],d=ge[p];h[f]&&!h[d]&&(h[d]=be(p,h[f],d,e,i,n,r))}return h}function Se(t,e,i){return i.reduce((function(i,n,r){var o=n.y,s=n.x,a=n.score;return de(t,e,{y:o,x:s},r)||(i+=a),i}),0)/i.length}function Te(t,e,i,n,r,o,s,a){return void 0===s&&(s=.5),void 0===a&&(a=20),E(this,void 0,void 0,(function(){var h,l,u,c,p,f,d,m,y,g,v,x;return A(this,(function(w){switch(w.label){case 0:return[4,ce([t,e,i,n])];case 1:for(h=w.sent(),l=h[0],u=h[1],c=h[2],p=h[3],f=[],d=function(t,e,i){for(var n=i.shape,r=n[0],o=n[1],s=n[2],a=new le(r*o*s,(function(t){return t.score})),h=0;h<r;++h)for(var l=0;l<o;++l)for(var u=0;u<s;++u){var c=i.get(h,l,u);c<t||ue(u,c,h,l,e,i)&&a.enqueue({score:c,part:{heatmapY:h,heatmapX:l,id:u}})}return a}(s,1,l),m=a*a;f.length<o&&!d.empty();)y=d.dequeue(),g=fe(y.part,r,u),de(f,m,g,y.part.id)||(v=Me(y,l,u,r,c,p),x=Se(f,m,v),f.push({keypoints:v,score:x}));return[2,f]}}))}))}function Pe(t){var e=t.shape,i=e[0],n=e[1],r=e[2];return o((function(){var e,s,a=k(t,[i*n,r]),l=F(a,0),u=h(g(l,_(n,\"int32\")),1),p=h((e=l,s=n,o((function(){var t=g(e,_(s,\"int32\"));return x(e,c(t,_(s,\"int32\")))}))),1);return w([u,p],1)}))}function _e(t,e,i){return o((function(){var n=function(t,e){for(var i=[],n=0;n<z.length;n++){var r=t.get(n,0).valueOf(),o=t.get(n,1).valueOf(),a=Fe(r,o,n,e),h=a.x,l=a.y;i.push(l),i.push(h)}return s(i,[z.length,2])}(t,i);return u(l(c(t.toTensor(),_(e,\"int32\")),\"float32\"),n)}))}function Fe(t,e,i,n){return{y:n.get(t,e,i),x:n.get(t,e,i+z.length)}}function Oe(t,e,i){return E(this,void 0,void 0,(function(){var n,r,o,s,a,h,l,u,c,p;return A(this,(function(f){switch(f.label){case 0:return n=0,r=Pe(t),[4,Promise.all([t.buffer(),e.buffer(),r.buffer()])];case 1:return o=f.sent(),s=o[0],a=o[1],h=o[2],[4,(l=_e(h,i,a)).buffer()];case 2:return u=f.sent(),c=Array.from(function(t,e){for(var i=e.shape[0],n=new Float32Array(i),r=0;r<i;r++){var o=e.get(r,0),s=e.get(r,1);n[r]=t.get(o,s,r)}return n}(s,h)),p=c.map((function(t,e){return n+=t,{y:u.get(e,0),x:u.get(e,1),score:t,name:z[e]}})),r.dispose(),l.dispose(),[2,{keypoints:p,score:n/p.length}]}}))}))}function Re(t,e){return(t-1)%e==0}var Ce=\"https://storage.googleapis.com/tfjs-models/savedmodel/posenet/mobilenet/\",Ee=\"https://storage.googleapis.com/tfjs-models/savedmodel/posenet/resnet50/\";function Ae(t,e){return function(t,e){return(t-1)%e==0}(t,e)?t:Math.floor(t/e)*e+1}var ze=function(){function t(t,e){this.posenetModel=t;var i=this.posenetModel.inputs[0].shape;r.assert(-1===i[1]&&-1===i[2],(function(){return\"Input shape [\"+i[1]+\", \"+i[2]+\"] must both be equal to or -1\"}));var n,o,s=(n=e.inputResolution,o=e.outputStride,{height:Ae(n.height,o),width:Ae(n.width,o)});!function(t){r.assert(ie.indexOf(t)>=0,(function(){return\"outputStride of \"+t+\" is invalid. It must be either 8 or 16.\"}))}(e.outputStride),function(t,e){r.assert(Re(t.height,e),(function(){return\"height of \"+t.height+\" is invalid for output stride \"+e+\".\"})),r.assert(Re(t.width,e),(function(){return\"width of \"+t.width+\" is invalid for output stride \"+e+\".\"}))}(s,e.outputStride),this.inputResolution=s,this.outputStride=e.outputStride,this.architecture=e.architecture}return t.prototype.estimatePoses=function(t,e){return void 0===e&&(e=oe),E(this,void 0,void 0,(function(){var i,n,r,o,s,a,h,l,c,p,y,g,v,x,w;return A(this,(function(k){switch(k.label){case 0:return i=function(t){var e=t;if(null==e.maxPoses&&(e.maxPoses=1),e.maxPoses<=0)throw new Error(\"Invalid maxPoses \"+e.maxPoses+\". Should be > 0.\");if(e.maxPoses>1){if((e=C({},se,e)).scoreThreshold<0||e.scoreThreshold>1)throw new Error(\"Invalid scoreThreshold \"+e.scoreThreshold+\". Should be in range [0.0, 1.0]\");if(e.nmsRadius<=0)throw new Error(\"Invalid nmsRadius \"+e.nmsRadius+\".\")}return e}(e),null==t?[2,[]]:(this.maxPoses=i.maxPoses,n=W(t,{inputResolution:this.inputResolution,keepAspectRatio:!0}),r=n.imageTensor,o=n.padding,s=\"ResNet50\"===this.architecture?u(r,ae):nt(r,[-1,1]),a=this.posenetModel.predict(s),\"ResNet50\"===this.architecture?(h=d(a[2],[0]),l=d(a[3],[0]),c=d(a[0],[0]),p=d(a[1],[0])):(h=d(a[0],[0]),l=d(a[1],[0]),c=d(a[2],[0]),p=d(a[3],[0])),y=f(l),1!==this.maxPoses?[3,2]:[4,Oe(y,h,this.outputStride)]);case 1:return v=k.sent(),g=[v],[3,4];case 2:return[4,Te(y,h,c,p,this.outputStride,this.maxPoses,i.scoreThreshold,i.nmsRadius)];case 3:g=k.sent(),k.label=4;case 4:return x=q(t),w=function(t,e,i,n){var r=e.height,o=e.width,s=r/(i.height*(1-n.top-n.bottom)),a=o/(i.width*(1-n.left-n.right)),h=-n.top*i.height,l=-n.left*i.width;if(1===a&&1===s&&0===h&&0===l)return t;for(var u=0,c=t;u<c.length;u++)for(var p=0,f=c[u].keypoints;p<f.length;p++){var d=f[p];d.x=(d.x+l)*a,d.y=(d.y+h)*s}return t}(g,x,this.inputResolution,o),i.flipHorizontal&&(w=function(t,e){for(var i=0,n=t;i<n.length;i++)for(var r=0,o=n[i].keypoints;r<o.length;r++){var s=o[r];s.x=e.width-1-s.x}return t}(w,x)),r.dispose(),s.dispose(),m(a),h.dispose(),l.dispose(),c.dispose(),p.dispose(),y.dispose(),[2,w]}}))}))},t.prototype.dispose=function(){this.posenetModel.dispose()},t.prototype.reset=function(){},t}();function Ie(t){return void 0===t&&(t=Jt),E(this,void 0,void 0,(function(){var i,n,r,o,s;return A(this,(function(a){switch(a.label){case 0:return\"ResNet50\"!==(i=function(t){var e=t||Jt;if(null==e.architecture&&(e.architecture=\"MobileNetV1\"),te.indexOf(e.architecture)<0)throw new Error(\"Invalid architecture \"+e.architecture+\". Should be one of \"+te);if(null==e.inputResolution&&(e.inputResolution={height:257,width:257}),null==e.outputStride&&(e.outputStride=16),ee[e.architecture].indexOf(e.outputStride)<0)throw new Error(\"Invalid outputStride \"+e.outputStride+\". Should be one of \"+ee[e.architecture]+\" for architecture \"+e.architecture+\".\");if(null==e.multiplier&&(e.multiplier=1),ne[e.architecture].indexOf(e.multiplier)<0)throw new Error(\"Invalid multiplier \"+e.multiplier+\". Should be one of \"+ne[e.architecture]+\" for architecture \"+e.architecture+\".\");if(null==e.quantBytes&&(e.quantBytes=4),re.indexOf(e.quantBytes)<0)throw new Error(\"Invalid quantBytes \"+e.quantBytes+\". Should be one of \"+re+\" for architecture \"+e.architecture+\".\");if(\"MobileNetV1\"===e.architecture&&32===e.outputStride&&1!==e.multiplier)throw new Error(\"When using an output stride of 32, you must select 1 as the multiplier.\");return e}(t)).architecture?[3,2]:(h=i.outputStride,l=i.quantBytes,u=\"model-stride\"+h+\".json\",n=4===l?Ee+\"float/\"+u:Ee+\"quant\"+l+\"/\"+u,[4,e(i.modelUrl||n)]);case 1:return r=a.sent(),[2,new ze(r,i)];case 2:return o=function(t,e,i){var n={1:\"100\",.75:\"075\",.5:\"050\"},r=\"model-stride\"+t+\".json\";return 4===i?Ce+\"float/\"+n[e]+\"/\"+r:Ce+\"quant\"+i+\"/\"+n[e]+\"/\"+r}(i.outputStride,i.multiplier,i.quantBytes),[4,e(i.modelUrl||o)];case 3:return s=a.sent(),[2,new ze(s,i)]}var h,l,u}))}))}function Be(t,e){return E(this,void 0,void 0,(function(){var i,n;return A(this,(function(r){switch(t){case It.PoseNet:return[2,Ie(e)];case It.BlazePose:if(n=void 0,null!=(i=e)){if(\"tfjs\"===i.runtime)return[2,At(e)];if(\"mediapipe\"===i.runtime)return[2,j(e)];n=i.runtime}throw new Error(\"Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got \"+n);case It.MoveNet:return[2,$t(e)];default:throw new Error(t+\" is not a supported model name.\")}}))}))}var Ne={keypointsToNormalizedKeypoints:$},Le={modelType:{SINGLEPOSE_LIGHTNING:\"SinglePose.Lightning\",SINGLEPOSE_THUNDER:\"SinglePose.Thunder\",MULTIPOSE_LIGHTNING:\"MultiPose.Lightning\"}};export{It as SupportedModels,zt as TrackerType,Ne as calculators,Be as createDetector,Le as movenet,Kt as util};\n"]},"metadata":{},"sourceType":"module"}