{"id":"NKbW","dependencies":[{"name":"/Users/alberttian/f21/playground/frontend/live_video/.babelrc","includedInParent":true,"mtime":1633056216691},{"name":"/Users/alberttian/f21/playground/frontend/live_video/package.json","includedInParent":true,"mtime":1633056435183},{"name":"@tensorflow/tfjs-core","loc":{"line":17,"column":20},"parent":"/Users/alberttian/f21/playground/frontend/live_video/src/util.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/index.js"},{"name":"./params","loc":{"line":18,"column":43},"parent":"/Users/alberttian/f21/playground/frontend/live_video/src/util.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/src/params.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isiOS=i,exports.isAndroid=o,exports.isMobile=a,exports.setBackendAndEnvFlags=f;var e=n(require(\"@tensorflow/tfjs-core\")),t=require(\"./params\");function r(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function i(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function o(){return/Android/i.test(navigator.userAgent)}function a(){return o()||i()}async function s(t){const r=e.engine();if(!(t in r.registryFactory))throw new Error(`${t} backend is not registed.`);if(t in r.registry){const r=e.findBackendFactory(t);e.removeBackend(t),e.registerBackend(t,r)}await e.setBackend(t)}async function f(r,n){if(null==r)return;if(\"object\"!=typeof r)throw new Error(`An object is expected, while a(n) ${typeof r} is found.`);for(const e in r){if(!(e in t.TUNABLE_FLAG_VALUE_RANGE_MAP))throw new Error(`${e} is not a tunable or valid environment flag.`);if(-1===t.TUNABLE_FLAG_VALUE_RANGE_MAP[e].indexOf(r[e]))throw new Error(`${e} value is expected to be in the range [${t.TUNABLE_FLAG_VALUE_RANGE_MAP[e]}], while ${r[e]}`+\" is found.\")}e.env().setFlags(r);const[i,o]=n.split(\"-\");\"tfjs\"===i&&await s(o)}"},"sourceMaps":{"js":{"mappings":[{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":0}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":13}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":20}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":35}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":43}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":56}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":57}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":64}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":68}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":76}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":82}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":84}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":92}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":102}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":104}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":112}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":121}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":123}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":131}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":153}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":155}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":159}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":161}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":163}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":171}},{"source":"src/util.js","original":{"line":18,"column":0},"generated":{"line":1,"column":197}},{"source":"src/util.js","original":{"line":18,"column":0},"generated":{"line":1,"column":199}},{"source":"src/util.js","original":{"line":18,"column":0},"generated":{"line":1,"column":207}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":219}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":228}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":230}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":233}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":236}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":255}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":263}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":270}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":275}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":279}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":281}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":285}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":293}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":295}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":299}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":307}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":314}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":316}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":325}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":328}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":335}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":337}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":339}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":343}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":346}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":355}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":357}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":359}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":362}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":366}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":369}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":372}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":374}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":385}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":392}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":394}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":397}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":404}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":407}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":424}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":427}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":446}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":448}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":454}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":455}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":463}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":466}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":470}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":472}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":474}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":477}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":480}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":483}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":485}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":489}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":492}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":499}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":501}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":505}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":508}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":512}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":514}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":517}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":519}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":526}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":542}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":549}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":574}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":578}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":582}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":587}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":589}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":592}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":604}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":607}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":614}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":624}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":639}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":644}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":646}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":649}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":650}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":654}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":656}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":658}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":665}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":690}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":692}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":695}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":700}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":704}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":706}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":711}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":713}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":718}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":725}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":740}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":742}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":744}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":747}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":749}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":752}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":754}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":757}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":764}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":766}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":774}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":776}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":779}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":781}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":785}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":787}},{"source":"src/util.js","original":{"line":99,"column":1},"generated":{"line":1,"column":790}},{"source":"src/util.js","original":{"line":20,"column":7},"generated":{"line":1,"column":792}},{"source":"src/util.js","name":"isiOS","original":{"line":20,"column":16},"generated":{"line":1,"column":801}},{"source":"src/util.js","original":{"line":21,"column":9},"generated":{"line":1,"column":805}},{"source":"src/util.js","original":{"line":21,"column":9},"generated":{"line":1,"column":811}},{"source":"src/util.js","name":"test","original":{"line":21,"column":29},"generated":{"line":1,"column":831}},{"source":"src/util.js","name":"navigator","original":{"line":21,"column":34},"generated":{"line":1,"column":836}},{"source":"src/util.js","name":"userAgent","original":{"line":21,"column":44},"generated":{"line":1,"column":846}},{"source":"src/util.js","original":{"line":24,"column":7},"generated":{"line":1,"column":857}},{"source":"src/util.js","name":"isAndroid","original":{"line":24,"column":16},"generated":{"line":1,"column":866}},{"source":"src/util.js","original":{"line":25,"column":9},"generated":{"line":1,"column":870}},{"source":"src/util.js","original":{"line":25,"column":9},"generated":{"line":1,"column":876}},{"source":"src/util.js","name":"test","original":{"line":25,"column":20},"generated":{"line":1,"column":887}},{"source":"src/util.js","name":"navigator","original":{"line":25,"column":25},"generated":{"line":1,"column":892}},{"source":"src/util.js","name":"userAgent","original":{"line":25,"column":35},"generated":{"line":1,"column":902}},{"source":"src/util.js","original":{"line":28,"column":7},"generated":{"line":1,"column":913}},{"source":"src/util.js","name":"isMobile","original":{"line":28,"column":16},"generated":{"line":1,"column":922}},{"source":"src/util.js","name":"isAndroid","original":{"line":29,"column":9},"generated":{"line":1,"column":926}},{"source":"src/util.js","name":"isAndroid","original":{"line":29,"column":9},"generated":{"line":1,"column":933}},{"source":"src/util.js","name":"isiOS","original":{"line":29,"column":24},"generated":{"line":1,"column":938}},{"source":"src/util.js","original":{"line":37,"column":0},"generated":{"line":1,"column":942}},{"source":"src/util.js","name":"resetBackend","original":{"line":37,"column":15},"generated":{"line":1,"column":957}},{"source":"src/util.js","name":"backendName","original":{"line":37,"column":28},"generated":{"line":1,"column":959}},{"source":"src/util.js","name":"ENGINE","original":{"line":38,"column":8},"generated":{"line":1,"column":962}},{"source":"src/util.js","name":"ENGINE","original":{"line":38,"column":8},"generated":{"line":1,"column":968}},{"source":"src/util.js","name":"tf","original":{"line":38,"column":17},"generated":{"line":1,"column":970}},{"source":"src/util.js","name":"engine","original":{"line":38,"column":20},"generated":{"line":1,"column":972}},{"source":"src/util.js","original":{"line":39,"column":6},"generated":{"line":1,"column":981}},{"source":"src/util.js","name":"backendName","original":{"line":39,"column":8},"generated":{"line":1,"column":986}},{"source":"src/util.js","name":"ENGINE","original":{"line":39,"column":23},"generated":{"line":1,"column":991}},{"source":"src/util.js","name":"registryFactory","original":{"line":39,"column":30},"generated":{"line":1,"column":993}},{"source":"src/util.js","original":{"line":40,"column":10},"generated":{"line":1,"column":1010}},{"source":"src/util.js","original":{"line":40,"column":10},"generated":{"line":1,"column":1016}},{"source":"src/util.js","name":"Error","original":{"line":40,"column":14},"generated":{"line":1,"column":1020}},{"source":"src/util.js","name":"backendName","original":{"line":40,"column":23},"generated":{"line":1,"column":1029}},{"source":"src/util.js","name":"backendName","original":{"line":43,"column":6},"generated":{"line":1,"column":1059}},{"source":"src/util.js","name":"backendName","original":{"line":43,"column":6},"generated":{"line":1,"column":1062}},{"source":"src/util.js","name":"ENGINE","original":{"line":43,"column":21},"generated":{"line":1,"column":1067}},{"source":"src/util.js","name":"registry","original":{"line":43,"column":28},"generated":{"line":1,"column":1069}},{"source":"src/util.js","original":{"line":43,"column":38},"generated":{"line":1,"column":1078}},{"source":"src/util.js","name":"backendFactory","original":{"line":44,"column":10},"generated":{"line":1,"column":1079}},{"source":"src/util.js","name":"backendFactory","original":{"line":44,"column":10},"generated":{"line":1,"column":1085}},{"source":"src/util.js","name":"tf","original":{"line":44,"column":27},"generated":{"line":1,"column":1087}},{"source":"src/util.js","name":"findBackendFactory","original":{"line":44,"column":30},"generated":{"line":1,"column":1089}},{"source":"src/util.js","name":"backendName","original":{"line":44,"column":49},"generated":{"line":1,"column":1108}},{"source":"src/util.js","name":"tf","original":{"line":45,"column":4},"generated":{"line":1,"column":1111}},{"source":"src/util.js","name":"removeBackend","original":{"line":45,"column":7},"generated":{"line":1,"column":1113}},{"source":"src/util.js","name":"backendName","original":{"line":45,"column":21},"generated":{"line":1,"column":1127}},{"source":"src/util.js","name":"tf","original":{"line":46,"column":4},"generated":{"line":1,"column":1130}},{"source":"src/util.js","name":"registerBackend","original":{"line":46,"column":7},"generated":{"line":1,"column":1132}},{"source":"src/util.js","name":"backendName","original":{"line":46,"column":23},"generated":{"line":1,"column":1148}},{"source":"src/util.js","name":"backendFactory","original":{"line":46,"column":36},"generated":{"line":1,"column":1150}},{"source":"src/util.js","name":"tf","original":{"line":49,"column":8},"generated":{"line":1,"column":1159}},{"source":"src/util.js","name":"setBackend","original":{"line":49,"column":11},"generated":{"line":1,"column":1161}},{"source":"src/util.js","name":"backendName","original":{"line":49,"column":22},"generated":{"line":1,"column":1172}},{"source":"src/util.js","original":{"line":70,"column":7},"generated":{"line":1,"column":1175}},{"source":"src/util.js","name":"setBackendAndEnvFlags","original":{"line":70,"column":22},"generated":{"line":1,"column":1190}},{"source":"src/util.js","name":"flagConfig","original":{"line":70,"column":44},"generated":{"line":1,"column":1192}},{"source":"src/util.js","name":"backend","original":{"line":70,"column":56},"generated":{"line":1,"column":1194}},{"source":"src/util.js","name":"flagConfig","original":{"line":71,"column":6},"generated":{"line":1,"column":1197}},{"source":"src/util.js","original":{"line":71,"column":20},"generated":{"line":1,"column":1200}},{"source":"src/util.js","name":"flagConfig","original":{"line":71,"column":6},"generated":{"line":1,"column":1206}},{"source":"src/util.js","original":{"line":72,"column":4},"generated":{"line":1,"column":1208}},{"source":"src/util.js","original":{"line":73,"column":9},"generated":{"line":1,"column":1215}},{"source":"src/util.js","original":{"line":73,"column":35},"generated":{"line":1,"column":1218}},{"source":"src/util.js","name":"flagConfig","original":{"line":73,"column":20},"generated":{"line":1,"column":1235}},{"source":"src/util.js","original":{"line":74,"column":10},"generated":{"line":1,"column":1237}},{"source":"src/util.js","original":{"line":74,"column":10},"generated":{"line":1,"column":1243}},{"source":"src/util.js","name":"Error","original":{"line":74,"column":14},"generated":{"line":1,"column":1247}},{"source":"src/util.js","name":"flagConfig","original":{"line":75,"column":52},"generated":{"line":1,"column":1297}},{"source":"src/util.js","original":{"line":79,"column":7},"generated":{"line":1,"column":1312}},{"source":"src/util.js","original":{"line":79,"column":7},"generated":{"line":1,"column":1316}},{"source":"src/util.js","name":"flag","original":{"line":79,"column":13},"generated":{"line":1,"column":1322}},{"source":"src/util.js","name":"flagConfig","original":{"line":79,"column":21},"generated":{"line":1,"column":1327}},{"source":"src/util.js","original":{"line":79,"column":33},"generated":{"line":1,"column":1329}},{"source":"src/util.js","original":{"line":81,"column":8},"generated":{"line":1,"column":1330}},{"source":"src/util.js","name":"flag","original":{"line":81,"column":10},"generated":{"line":1,"column":1335}},{"source":"src/util.js","name":"TUNABLE_FLAG_VALUE_RANGE_MAP","original":{"line":81,"column":18},"generated":{"line":1,"column":1340}},{"source":"src/util.js","original":{"line":81,"column":8},"generated":{"line":1,"column":1342}},{"source":"src/util.js","original":{"line":82,"column":12},"generated":{"line":1,"column":1372}},{"source":"src/util.js","original":{"line":82,"column":12},"generated":{"line":1,"column":1378}},{"source":"src/util.js","name":"Error","original":{"line":82,"column":16},"generated":{"line":1,"column":1382}},{"source":"src/util.js","name":"flag","original":{"line":82,"column":25},"generated":{"line":1,"column":1391}},{"source":"src/util.js","name":"TUNABLE_FLAG_VALUE_RANGE_MAP","original":{"line":84,"column":8},"generated":{"line":1,"column":1440}},{"source":"src/util.js","original":{"line":84,"column":74},"generated":{"line":1,"column":1444}},{"source":"src/util.js","name":"TUNABLE_FLAG_VALUE_RANGE_MAP","original":{"line":84,"column":8},"generated":{"line":1,"column":1448}},{"source":"src/util.js","name":"flag","original":{"line":84,"column":37},"generated":{"line":1,"column":1450}},{"source":"src/util.js","name":"flag","original":{"line":84,"column":37},"generated":{"line":1,"column":1479}},{"source":"src/util.js","name":"indexOf","original":{"line":84,"column":43},"generated":{"line":1,"column":1482}},{"source":"src/util.js","name":"flagConfig","original":{"line":84,"column":51},"generated":{"line":1,"column":1490}},{"source":"src/util.js","name":"flag","original":{"line":84,"column":62},"generated":{"line":1,"column":1492}},{"source":"src/util.js","original":{"line":85,"column":12},"generated":{"line":1,"column":1496}},{"source":"src/util.js","original":{"line":85,"column":12},"generated":{"line":1,"column":1502}},{"source":"src/util.js","name":"Error","original":{"line":85,"column":16},"generated":{"line":1,"column":1506}},{"source":"src/util.js","name":"flag","original":{"line":86,"column":13},"generated":{"line":1,"column":1515}},{"source":"src/util.js","name":"TUNABLE_FLAG_VALUE_RANGE_MAP","original":{"line":87,"column":14},"generated":{"line":1,"column":1558}},{"source":"src/util.js","name":"flag","original":{"line":87,"column":43},"generated":{"line":1,"column":1560}},{"source":"src/util.js","name":"flag","original":{"line":87,"column":43},"generated":{"line":1,"column":1589}},{"source":"src/util.js","name":"flagConfig","original":{"line":87,"column":60},"generated":{"line":1,"column":1603}},{"source":"src/util.js","name":"flag","original":{"line":87,"column":71},"generated":{"line":1,"column":1605}},{"source":"src/util.js","original":{"line":88,"column":10},"generated":{"line":1,"column":1610}},{"source":"src/util.js","name":"tf","original":{"line":92,"column":2},"generated":{"line":1,"column":1624}},{"source":"src/util.js","name":"env","original":{"line":92,"column":5},"generated":{"line":1,"column":1626}},{"source":"src/util.js","name":"setFlags","original":{"line":92,"column":11},"generated":{"line":1,"column":1632}},{"source":"src/util.js","name":"flagConfig","original":{"line":92,"column":20},"generated":{"line":1,"column":1641}},{"source":"src/util.js","original":{"line":94,"column":8},"generated":{"line":1,"column":1644}},{"source":"src/util.js","name":"runtime","original":{"line":94,"column":9},"generated":{"line":1,"column":1650}},{"source":"src/util.js","name":"$backend","original":{"line":94,"column":18},"generated":{"line":1,"column":1652}},{"source":"src/util.js","name":"backend","original":{"line":94,"column":30},"generated":{"line":1,"column":1655}},{"source":"src/util.js","name":"split","original":{"line":94,"column":38},"generated":{"line":1,"column":1657}},{"source":"src/util.js","original":{"line":94,"column":44},"generated":{"line":1,"column":1663}},{"source":"src/util.js","original":{"line":96,"column":18},"generated":{"line":1,"column":1668}},{"source":"src/util.js","name":"runtime","original":{"line":96,"column":6},"generated":{"line":1,"column":1677}},{"source":"src/util.js","name":"resetBackend","original":{"line":97,"column":10},"generated":{"line":1,"column":1686}},{"source":"src/util.js","name":"$backend","original":{"line":97,"column":23},"generated":{"line":1,"column":1688}}],"sources":{"src/util.js":"/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport * as tf from '@tensorflow/tfjs-core';\nimport {TUNABLE_FLAG_VALUE_RANGE_MAP} from './params';\n\nexport function isiOS() {\n  return /iPhone|iPad|iPod/i.test(navigator.userAgent);\n}\n\nexport function isAndroid() {\n  return /Android/i.test(navigator.userAgent);\n}\n\nexport function isMobile() {\n  return isAndroid() || isiOS();\n}\n\n/**\n * Reset the target backend.\n *\n * @param backendName The name of the backend to be reset.\n */\nasync function resetBackend(backendName) {\n  const ENGINE = tf.engine();\n  if (!(backendName in ENGINE.registryFactory)) {\n    throw new Error(`${backendName} backend is not registed.`);\n  }\n\n  if (backendName in ENGINE.registry) {\n    const backendFactory = tf.findBackendFactory(backendName);\n    tf.removeBackend(backendName);\n    tf.registerBackend(backendName, backendFactory);\n  }\n\n  await tf.setBackend(backendName);\n}\n\n/**\n * Set environment flags.\n *\n * This is a wrapper function of `tf.env().setFlags()` to constrain users to\n * only set tunable flags (the keys of `TUNABLE_FLAG_TYPE_MAP`).\n *\n * ```js\n * const flagConfig = {\n *        WEBGL_PACK: false,\n *      };\n * await setEnvFlags(flagConfig);\n *\n * console.log(tf.env().getBool('WEBGL_PACK')); // false\n * console.log(tf.env().getBool('WEBGL_PACK_BINARY_OPERATIONS')); // false\n * ```\n *\n * @param flagConfig An object to store flag-value pairs.\n */\nexport async function setBackendAndEnvFlags(flagConfig, backend) {\n  if (flagConfig == null) {\n    return;\n  } else if (typeof flagConfig !== 'object') {\n    throw new Error(\n        `An object is expected, while a(n) ${typeof flagConfig} is found.`);\n  }\n\n  // Check the validation of flags and values.\n  for (const flag in flagConfig) {\n    // TODO: check whether flag can be set as flagConfig[flag].\n    if (!(flag in TUNABLE_FLAG_VALUE_RANGE_MAP)) {\n      throw new Error(`${flag} is not a tunable or valid environment flag.`);\n    }\n    if (TUNABLE_FLAG_VALUE_RANGE_MAP[flag].indexOf(flagConfig[flag]) === -1) {\n      throw new Error(\n          `${flag} value is expected to be in the range [${\n              TUNABLE_FLAG_VALUE_RANGE_MAP[flag]}], while ${flagConfig[flag]}` +\n          ' is found.');\n    }\n  }\n\n  tf.env().setFlags(flagConfig);\n\n  const [runtime, $backend] = backend.split('-');\n\n  if (runtime === 'tfjs') {\n    await resetBackend($backend);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"d9a1f0fde2eab3fa4abfa8be7e1788b5","cacheData":{"env":{}}}