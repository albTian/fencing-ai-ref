{"id":"lqgM","dependencies":[{"name":"/Users/alberttian/f21/playground/frontend/live_video/package.json","includedInParent":true,"mtime":1633056435183},{"name":"/Users/alberttian/f21/playground/frontend/live_video/.babelrc","includedInParent":true,"mtime":1633056216691},{"name":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/package.json","includedInParent":true,"mtime":1631991247428},{"name":"../util","loc":{"line":17,"column":23},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/io/progress.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/util.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.monitorPromisesProgress=r;var t=require(\"../util\");function r(r,e,n,s){!function(r){(0,t.assert)(null!=r&&Array.isArray(r)&&r.length>0,()=>\"promises must be a none empty array\")}(r),function(r,e){(0,t.assert)(r>=0&&r<=1,()=>\"Progress fraction must be in range [0, 1], but \"+`got startFraction ${r}`),(0,t.assert)(e>=0&&e<=1,()=>\"Progress fraction must be in range [0, 1], but \"+`got endFraction ${e}`),(0,t.assert)(e>=r,()=>\"startFraction must be no more than endFraction, but \"+`got startFraction ${r} and endFraction `+`${e}`)}(n=null==n?0:n,s=null==s?1:s);let o=0;return Promise.all(r.map(t=>(t.then(t=>{const a=n+ ++o/r.length*(s-n);return e(a),t}),t)))}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":100}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":106}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":108}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":116}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":127}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":30,"column":16},"generated":{"line":1,"column":136}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":138}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":1,"column":140}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":142}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":32,"column":28},"generated":{"line":1,"column":144}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":148}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":157}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":161}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":163}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":165}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":173}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":179}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":28},"generated":{"line":1,"column":182}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":34},"generated":{"line":1,"column":188}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":42},"generated":{"line":1,"column":196}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":55},"generated":{"line":1,"column":200}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":64},"generated":{"line":1,"column":202}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":52,"column":73},"generated":{"line":1,"column":209}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":1,"column":211}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":53,"column":14},"generated":{"line":1,"column":215}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":254}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":33,"column":16},"generated":{"line":1,"column":255}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":258}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":1,"column":267}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":56,"column":48},"generated":{"line":1,"column":269}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":273}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":275}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":277}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":285}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":1,"column":288}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":58,"column":30},"generated":{"line":1,"column":291}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":58,"column":47},"generated":{"line":1,"column":294}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":296}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":59,"column":14},"generated":{"line":1,"column":300}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":60,"column":33},"generated":{"line":1,"column":371}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":377}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":379}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":381}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":389}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":62,"column":23},"generated":{"line":1,"column":392}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":395}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":62,"column":43},"generated":{"line":1,"column":398}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":400}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":1,"column":404}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":64,"column":31},"generated":{"line":1,"column":473}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":479}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":481}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":483}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":491}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":66,"column":23},"generated":{"line":1,"column":494}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":496}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":67,"column":14},"generated":{"line":1,"column":500}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":68,"column":33},"generated":{"line":1,"column":576}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":69,"column":15},"generated":{"line":1,"column":600}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":605}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":606}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":608}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":614}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":34,"column":42},"generated":{"line":1,"column":616}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":34,"column":46},"generated":{"line":1,"column":618}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":620}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":35,"column":31},"generated":{"line":1,"column":622}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":1,"column":628}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":35,"column":38},"generated":{"line":1,"column":630}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":35,"column":42},"generated":{"line":1,"column":632}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":635}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":639}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":37,"column":24},"generated":{"line":1,"column":641}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":643}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":650}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":72,"column":17},"generated":{"line":1,"column":658}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":72,"column":21},"generated":{"line":1,"column":662}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":72,"column":30},"generated":{"line":1,"column":664}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":668}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":672}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":674}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":40,"column":17},"generated":{"line":1,"column":679}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":683}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":689}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":41,"column":23},"generated":{"line":1,"column":691}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":696}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":42,"column":30},"generated":{"line":1,"column":698}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":42,"column":39},"generated":{"line":1,"column":700}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":42,"column":49},"generated":{"line":1,"column":708}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":42,"column":63},"generated":{"line":1,"column":710}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":713}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":1,"column":720}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":44,"column":17},"generated":{"line":1,"column":722}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":725}},{"source":"../../../../../../tfjs-core/src/io/progress.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":729}}],"sources":{"../../../../../../tfjs-core/src/io/progress.ts":"/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {assert} from '../util';\n\nimport {OnProgressCallback} from './types';\n\n/**\n * Monitor Promise.all progress, fire onProgress callback function.\n *\n * @param promises Promise list going to be monitored\n * @param onProgress Callback function. Fired when a promise resolved.\n * @param startFraction Optional fraction start. Default to 0.\n * @param endFraction Optional fraction end. Default to 1.\n */\nexport function monitorPromisesProgress(\n    promises: Array<Promise<{}|void>>, onProgress: OnProgressCallback,\n    startFraction?: number, endFraction?: number) {\n  checkPromises(promises);\n  startFraction = startFraction == null ? 0 : startFraction;\n  endFraction = endFraction == null ? 1 : endFraction;\n  checkFraction(startFraction, endFraction);\n  let resolvedPromise = 0;\n\n  const registerMonitor = (promise: Promise<{}>) => {\n    promise.then(value => {\n      const fraction = startFraction +\n          ++resolvedPromise / promises.length * (endFraction - startFraction);\n      // pass fraction as parameter to callback function.\n      onProgress(fraction);\n      return value;\n    });\n    return promise;\n  };\n\n  function checkPromises(promises: Array<Promise<{}|void>>): void {\n    assert(\n        promises != null && Array.isArray(promises) && promises.length > 0,\n        () => 'promises must be a none empty array');\n  }\n\n  function checkFraction(startFraction: number, endFraction: number): void {\n    assert(\n        startFraction >= 0 && startFraction <= 1,\n        () => `Progress fraction must be in range [0, 1], but ` +\n            `got startFraction ${startFraction}`);\n    assert(\n        endFraction >= 0 && endFraction <= 1,\n        () => `Progress fraction must be in range [0, 1], but ` +\n            `got endFraction ${endFraction}`);\n    assert(\n        endFraction >= startFraction,\n        () => `startFraction must be no more than endFraction, but ` +\n            `got startFraction ${startFraction} and endFraction ` +\n            `${endFraction}`);\n  }\n\n  return Promise.all(promises.map(registerMonitor));\n}\n"},"lineCount":null}},"error":null,"hash":"ed3405261e02191ae311e4f3c4f48362","cacheData":{"env":{}}}