{"id":"yVfo","dependencies":[{"name":"/Users/alberttian/f21/playground/frontend/live_video/package.json","includedInParent":true,"mtime":1633056435183},{"name":"/Users/alberttian/f21/playground/frontend/live_video/.babelrc","includedInParent":true,"mtime":1633056216691},{"name":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/package.json","includedInParent":true,"mtime":1631991247428},{"name":"../mul","loc":{"line":17,"column":20},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal/stft.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/mul.js"},{"name":"../operation","loc":{"line":18,"column":19},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal/stft.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/operation.js"},{"name":"../signal_ops_util","loc":{"line":19,"column":36},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal/stft.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal_ops_util.js"},{"name":"../spectral/rfft","loc":{"line":20,"column":21},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal/stft.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/spectral/rfft.js"},{"name":"./frame","loc":{"line":21,"column":22},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal/stft.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal/frame.js"},{"name":"./hann_window","loc":{"line":22,"column":27},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal/stft.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/ops/signal/hann_window.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.stft=void 0;var e=require(\"../mul\"),r=require(\"../operation\"),t=require(\"../signal_ops_util\"),o=require(\"../spectral/rfft\"),n=require(\"./frame\"),i=require(\"./hann_window\");function s(r,s,u,f,l=i.hannWindow){null==f&&(f=(0,t.enclosingPowerOfTwo)(s));const a=(0,n.frame)(r,s,u),p=(0,e.mul)(a,l(s));return(0,o.rfft)(p,f)}const u=(0,r.op)({stft_:s});exports.stft=u;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":0}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":13}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":20}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":35}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":43}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":56}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":57}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":64}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":68}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":76}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":86}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":88}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":92}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":94}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":112}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":114}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":122}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":140}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":148}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":170}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":172}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":200}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":202}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":210}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":221}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":223}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":231}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":248}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":257}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":259}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":44,"column":22},"generated":{"line":1,"column":261}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":44,"column":43},"generated":{"line":1,"column":263}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":265}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":267}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":46,"column":45},"generated":{"line":1,"column":269}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":271}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":283}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":289}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":293}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":296}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":48,"column":36},"generated":{"line":1,"column":298}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":48,"column":36},"generated":{"line":1,"column":300}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":48,"column":36},"generated":{"line":1,"column":321}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":325}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":331}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":334}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":50,"column":29},"generated":{"line":1,"column":336}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":50,"column":29},"generated":{"line":1,"column":338}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":50,"column":29},"generated":{"line":1,"column":345}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":50,"column":37},"generated":{"line":1,"column":347}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":50,"column":50},"generated":{"line":1,"column":349}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":352}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":51,"column":25},"generated":{"line":1,"column":355}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":1,"column":357}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":1,"column":359}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":1,"column":364}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":51,"column":43},"generated":{"line":1,"column":366}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":51,"column":52},"generated":{"line":1,"column":368}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":372}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":379}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":1,"column":381}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":1,"column":383}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":1,"column":389}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":52,"column":30},"generated":{"line":1,"column":391}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":394}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":1,"column":400}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":20},"generated":{"line":1,"column":403}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":23},"generated":{"line":1,"column":405}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":23},"generated":{"line":1,"column":407}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":23},"generated":{"line":1,"column":411}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":24},"generated":{"line":1,"column":412}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":24},"generated":{"line":1,"column":418}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":422}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":430}},{"source":"../../../../../../../tfjs-core/src/ops/signal/stft.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":435}}],"sources":{"../../../../../../../tfjs-core/src/ops/signal/stft.ts":"/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {Tensor, Tensor1D} from '../../tensor';\nimport {mul} from '../mul';\nimport {op} from '../operation';\nimport {enclosingPowerOfTwo} from '../signal_ops_util';\nimport {rfft} from '../spectral/rfft';\n\nimport {frame} from './frame';\nimport {hannWindow} from './hann_window';\n\n/**\n * Computes the Short-time Fourier Transform of signals\n * See: https://en.wikipedia.org/wiki/Short-time_Fourier_transform\n *\n * ```js\n * const input = tf.tensor1d([1, 1, 1, 1, 1])\n * tf.signal.stft(input, 3, 1).print();\n * ```\n * @param signal 1-dimensional real value tensor.\n * @param frameLength The window length of samples.\n * @param frameStep The number of samples to step.\n * @param fftLength The size of the FFT to apply.\n * @param windowFn A callable that takes a window length and returns 1-d tensor.\n *\n * @doc {heading: 'Operations', subheading: 'Signal', namespace: 'signal'}\n */\nfunction stft_(\n    signal: Tensor1D, frameLength: number, frameStep: number,\n    fftLength?: number,\n    windowFn: (length: number) => Tensor1D = hannWindow): Tensor {\n  if (fftLength == null) {\n    fftLength = enclosingPowerOfTwo(frameLength);\n  }\n  const framedSignal = frame(signal, frameLength, frameStep);\n  const windowedSignal = mul(framedSignal, windowFn(frameLength));\n  return rfft(windowedSignal, fftLength);\n}\nexport const stft = op({stft_});\n"},"lineCount":null}},"error":null,"hash":"989da336bba413e5bbba5ba4425ca7ff","cacheData":{"env":{}}}