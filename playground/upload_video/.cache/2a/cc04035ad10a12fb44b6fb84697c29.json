{"id":"l61h","dependencies":[{"name":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js.map","includedInParent":true,"mtime":1634449894361},{"name":"/Users/alberttian/f21/playground/frontend/upload_video/package.json","includedInParent":true,"mtime":1634449883544},{"name":"/Users/alberttian/f21/playground/frontend/upload_video/.babelrc","includedInParent":true,"mtime":1634449693369},{"name":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/package.json","includedInParent":true,"mtime":1634449894361},{"name":"../../tensor_util_env","loc":{"line":17,"column":32},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/tensor_util_env.js"},{"name":"../../util","loc":{"line":18,"column":23},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/util.js"},{"name":"../greater_equal","loc":{"line":19,"column":29},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/greater_equal.js"},{"name":"../less_equal","loc":{"line":20,"column":26},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/less_equal.js"},{"name":"../logical_and","loc":{"line":21,"column":27},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/logical_and.js"},{"name":"../operation","loc":{"line":22,"column":19},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/operation.js"},{"name":"../range","loc":{"line":23,"column":22},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/range.js"},{"name":"../reshape","loc":{"line":24,"column":24},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/reshape.js"},{"name":"../scalar","loc":{"line":25,"column":23},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/scalar.js"},{"name":"../stack","loc":{"line":26,"column":22},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/stack.js"},{"name":"../sub","loc":{"line":27,"column":20},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/sub.js"},{"name":"../unstack","loc":{"line":28,"column":24},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/unstack.js"},{"name":"../where","loc":{"line":29,"column":22},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/where.js"},{"name":"../zeros","loc":{"line":30,"column":22},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/linalg/band_part.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/ops/zeros.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bandPart=void 0;var e=require(\"../../tensor_util_env\"),r=require(\"../../util\"),a=require(\"../greater_equal\"),t=require(\"../less_equal\"),n=require(\"../logical_and\"),s=require(\"../operation\"),u=require(\"../range\"),o=require(\"../reshape\"),i=require(\"../scalar\"),l=require(\"../stack\"),b=require(\"../sub\"),c=require(\"../unstack\"),p=require(\"../where\"),q=require(\"../zeros\");function d(s,d,g){(0,r.assert)(d%1==0,()=>`bandPart(): numLower must be an integer, got ${d}.`),(0,r.assert)(g%1==0,()=>`bandPart(): numUpper must be an integer, got ${g}.`);const h=(0,e.convertToTensor)(s,\"a\",\"bandPart\");(0,r.assert)(h.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${h.rank}.`);const m=h.shape,[P,w]=h.shape.slice(-2);if(!(d<=P))throw new Error(`bandPart(): numLower (${d})`+` must not be greater than the number of rows (${P}).`);if(!(g<=w))throw new Error(`bandPart(): numUpper (${g})`+` must not be greater than the number of columns (${w}).`);d<0&&(d=P),g<0&&(g=w);const _=(0,o.reshape)((0,u.range)(0,P,1,\"int32\"),[-1,1]),k=(0,u.range)(0,w,1,\"int32\"),$=(0,b.sub)(_,k),f=(0,n.logicalAnd)((0,t.lessEqual)($,(0,i.scalar)(+d,\"int32\")),(0,a.greaterEqual)($,(0,i.scalar)(-g,\"int32\"))),v=(0,q.zeros)([P,w],h.dtype);return(0,o.reshape)((0,l.stack)((0,c.unstack)((0,o.reshape)(h,[-1,P,w])).map(e=>(0,p.where)(f,e,v))),m)}const g=(0,s.op)({bandPart_:d});exports.bandPart=g;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":0}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":13}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":20}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":35}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":43}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":56}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":57}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":64}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":68}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":76}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":90}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":92}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":106}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":131}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":133}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":141}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":157}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":165}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":185}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":187}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":195}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":212}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":214}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":222}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":240}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":242}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":250}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":266}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":268}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":276}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":288}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":290}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":298}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":312}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":314}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":322}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":335}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":337}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":345}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":357}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":359}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":367}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":377}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":379}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":387}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":401}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":403}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":411}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":34,"column":0},"generated":{"line":1,"column":423}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":34,"column":0},"generated":{"line":1,"column":425}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":34,"column":0},"generated":{"line":1,"column":433}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":74,"column":0},"generated":{"line":1,"column":445}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":74,"column":9},"generated":{"line":1,"column":454}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":456}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":75,"column":21},"generated":{"line":1,"column":458}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":75,"column":39},"generated":{"line":1,"column":460}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":464}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":466}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":468}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":476}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":77,"column":17},"generated":{"line":1,"column":478}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":77,"column":23},"generated":{"line":1,"column":481}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":1,"column":483}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":78,"column":60},"generated":{"line":1,"column":535}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":542}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":544}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":546}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":554}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":80,"column":17},"generated":{"line":1,"column":556}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":80,"column":23},"generated":{"line":1,"column":559}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":81,"column":6},"generated":{"line":1,"column":561}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":81,"column":60},"generated":{"line":1,"column":613}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":83,"column":8},"generated":{"line":1,"column":619}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":83,"column":8},"generated":{"line":1,"column":625}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":83,"column":13},"generated":{"line":1,"column":628}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":83,"column":29},"generated":{"line":1,"column":630}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":83,"column":29},"generated":{"line":1,"column":632}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":83,"column":29},"generated":{"line":1,"column":649}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":83,"column":32},"generated":{"line":1,"column":651}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":83,"column":37},"generated":{"line":1,"column":655}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":668}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":670}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":672}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":680}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":682}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":86,"column":17},"generated":{"line":1,"column":688}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":1,"column":690}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":87,"column":56},"generated":{"line":1,"column":738}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":87,"column":59},"generated":{"line":1,"column":740}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":1,"column":749}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":1,"column":755}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":89,"column":16},"generated":{"line":1,"column":757}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":89,"column":19},"generated":{"line":1,"column":759}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":90,"column":9},"generated":{"line":1,"column":766}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":90,"column":12},"generated":{"line":1,"column":768}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":90,"column":17},"generated":{"line":1,"column":771}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":90,"column":20},"generated":{"line":1,"column":773}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":90,"column":26},"generated":{"line":1,"column":779}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":90,"column":33},"generated":{"line":1,"column":786}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":92,"column":6},"generated":{"line":1,"column":789}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":794}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":92,"column":20},"generated":{"line":1,"column":797}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":800}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":806}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":93,"column":14},"generated":{"line":1,"column":810}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":94,"column":33},"generated":{"line":1,"column":841}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":95,"column":57},"generated":{"line":1,"column":895}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":1,"column":902}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":907}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":97,"column":20},"generated":{"line":1,"column":910}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":98,"column":10},"generated":{"line":1,"column":913}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":98,"column":10},"generated":{"line":1,"column":919}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":98,"column":14},"generated":{"line":1,"column":923}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":99,"column":33},"generated":{"line":1,"column":954}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":100,"column":60},"generated":{"line":1,"column":1011}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":1,"column":1018}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":103,"column":17},"generated":{"line":1,"column":1020}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":104,"column":4},"generated":{"line":1,"column":1024}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":104,"column":15},"generated":{"line":1,"column":1026}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":1029}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":106,"column":17},"generated":{"line":1,"column":1031}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":1,"column":1035}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":107,"column":15},"generated":{"line":1,"column":1037}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":1040}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":1046}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":12},"generated":{"line":1,"column":1049}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":20},"generated":{"line":1,"column":1051}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":20},"generated":{"line":1,"column":1053}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":20},"generated":{"line":1,"column":1063}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":26},"generated":{"line":1,"column":1065}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":26},"generated":{"line":1,"column":1067}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":26},"generated":{"line":1,"column":1074}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":29},"generated":{"line":1,"column":1076}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":32},"generated":{"line":1,"column":1078}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":35},"generated":{"line":1,"column":1080}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":45},"generated":{"line":1,"column":1089}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":47},"generated":{"line":1,"column":1091}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":110,"column":50},"generated":{"line":1,"column":1093}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":111,"column":8},"generated":{"line":1,"column":1097}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":111,"column":12},"generated":{"line":1,"column":1100}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":111,"column":18},"generated":{"line":1,"column":1102}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":111,"column":18},"generated":{"line":1,"column":1104}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":111,"column":18},"generated":{"line":1,"column":1111}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":111,"column":21},"generated":{"line":1,"column":1113}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":111,"column":24},"generated":{"line":1,"column":1115}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":111,"column":27},"generated":{"line":1,"column":1117}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":112,"column":8},"generated":{"line":1,"column":1126}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":112,"column":13},"generated":{"line":1,"column":1129}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":112,"column":17},"generated":{"line":1,"column":1131}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":112,"column":17},"generated":{"line":1,"column":1133}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":112,"column":17},"generated":{"line":1,"column":1138}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":112,"column":20},"generated":{"line":1,"column":1140}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":114,"column":8},"generated":{"line":1,"column":1143}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":1,"column":1146}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":6},"generated":{"line":1,"column":1148}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":6},"generated":{"line":1,"column":1150}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":6},"generated":{"line":1,"column":1163}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":1,"column":1165}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":1,"column":1167}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":1,"column":1178}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":20},"generated":{"line":1,"column":1181}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":27},"generated":{"line":1,"column":1183}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":27},"generated":{"line":1,"column":1185}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":28},"generated":{"line":1,"column":1194}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":115,"column":38},"generated":{"line":1,"column":1196}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":6},"generated":{"line":1,"column":1207}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":19},"generated":{"line":1,"column":1209}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":19},"generated":{"line":1,"column":1211}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":19},"generated":{"line":1,"column":1225}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":23},"generated":{"line":1,"column":1228}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":30},"generated":{"line":1,"column":1230}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":30},"generated":{"line":1,"column":1232}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":31},"generated":{"line":1,"column":1241}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":116,"column":41},"generated":{"line":1,"column":1243}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":8},"generated":{"line":1,"column":1254}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":15},"generated":{"line":1,"column":1257}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":21},"generated":{"line":1,"column":1259}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":21},"generated":{"line":1,"column":1261}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":21},"generated":{"line":1,"column":1268}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":22},"generated":{"line":1,"column":1269}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":25},"generated":{"line":1,"column":1271}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":29},"generated":{"line":1,"column":1274}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":118,"column":32},"generated":{"line":1,"column":1276}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":120,"column":9},"generated":{"line":1,"column":1283}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":120,"column":9},"generated":{"line":1,"column":1290}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":13},"generated":{"line":1,"column":1292}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":13},"generated":{"line":1,"column":1294}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":13},"generated":{"line":1,"column":1304}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":19},"generated":{"line":1,"column":1306}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":19},"generated":{"line":1,"column":1308}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":19},"generated":{"line":1,"column":1316}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":27},"generated":{"line":1,"column":1318}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":27},"generated":{"line":1,"column":1320}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":27},"generated":{"line":1,"column":1330}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":35},"generated":{"line":1,"column":1332}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":35},"generated":{"line":1,"column":1334}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":35},"generated":{"line":1,"column":1343}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":39},"generated":{"line":1,"column":1345}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":41},"generated":{"line":1,"column":1347}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":44},"generated":{"line":1,"column":1349}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":121,"column":47},"generated":{"line":1,"column":1351}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":122,"column":24},"generated":{"line":1,"column":1356}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":122,"column":28},"generated":{"line":1,"column":1360}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":122,"column":35},"generated":{"line":1,"column":1364}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":122,"column":41},"generated":{"line":1,"column":1366}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":122,"column":41},"generated":{"line":1,"column":1368}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":122,"column":41},"generated":{"line":1,"column":1375}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":122,"column":49},"generated":{"line":1,"column":1377}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":122,"column":54},"generated":{"line":1,"column":1379}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":123,"column":13},"generated":{"line":1,"column":1384}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":1387}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":13},"generated":{"line":1,"column":1393}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":24},"generated":{"line":1,"column":1396}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":27},"generated":{"line":1,"column":1398}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":27},"generated":{"line":1,"column":1400}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":27},"generated":{"line":1,"column":1404}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":28},"generated":{"line":1,"column":1405}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":28},"generated":{"line":1,"column":1415}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":1419}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":1427}},{"source":"../../../src/ops/linalg/band_part.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":1436}}],"sources":{"../../../src/ops/linalg/band_part.ts":"/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {Tensor} from '../../tensor';\nimport {convertToTensor} from '../../tensor_util_env';\nimport {TensorLike} from '../../types';\nimport {assert} from '../../util';\n\nimport {greaterEqual} from '../greater_equal';\nimport {lessEqual} from '../less_equal';\nimport {logicalAnd} from '../logical_and';\nimport {op} from '../operation';\nimport {range} from '../range';\nimport {reshape} from '../reshape';\nimport {scalar} from '../scalar';\nimport {stack} from '../stack';\nimport {sub} from '../sub';\nimport {unstack} from '../unstack';\nimport {where} from '../where';\nimport {zeros} from '../zeros';\n\n/**\n * Copy a tensor setting everything outside a central band in each innermost\n * matrix to zero.\n *\n * The band part is computed as follows: Assume input has `k` dimensions\n * `[I, J, K, ..., M, N]`, then the output is a tensor with the same shape where\n * `band[i, j, k, ..., m, n] = in_band(m, n) * input[i, j, k, ..., m, n]`.\n * The indicator function\n * `in_band(m, n) = (num_lower < 0 || (m-n) <= num_lower))`\n * `&& (num_upper < 0 || (n-m) <= num_upper)`\n *\n * ```js\n * const x = tf.tensor2d([[ 0,  1,  2, 3],\n *                        [-1,  0,  1, 2],\n *                        [-2, -1,  0, 1],\n *                        [-3, -2, -1, 0]]);\n * let y = tf.linalg.bandPart(x, 1, -1);\n * y.print(); // [[ 0,  1,  2, 3],\n *            //  [-1,  0,  1, 2],\n *            //  [ 0, -1,  0, 1],\n *            //  [ 0, 0 , -1, 0]]\n * let z = tf.linalg.bandPart(x, 2, 1);\n * z.print(); // [[ 0,  1,  0, 0],\n *            //  [-1,  0,  1, 0],\n *            //  [-2, -1,  0, 1],\n *            //  [ 0, -2, -1, 0]]\n * ```\n *\n * @param x Rank `k` tensor\n * @param numLower Number of subdiagonals to keep.\n *   If negative, keep entire lower triangle.\n * @param numUpper Number of subdiagonals to keep.\n *   If negative, keep entire upper triangle.\n * @returns Rank `k` tensor of the same shape as input.\n *   The extracted banded tensor.\n *\n * @doc {heading:'Operations', subheading:'Linear Algebra', namespace:'linalg'}\n */\nfunction bandPart_<T extends Tensor>(\n    a: T|TensorLike, numLower: number, numUpper: number): T {\n  assert(\n      numLower % 1 === 0,\n      () => `bandPart(): numLower must be an integer, got ${numLower}.`);\n  assert(\n      numUpper % 1 === 0,\n      () => `bandPart(): numUpper must be an integer, got ${numUpper}.`);\n\n  const $a = convertToTensor(a, 'a', 'bandPart');\n\n  assert(\n      $a.rank >= 2,\n      () => `bandPart(): Rank must be at least 2, got ${$a.rank}.`);\n\n  const shape = $a.shape;\n  const [M, N] = $a.shape.slice(-2);\n\n  if (!(numLower <= M)) {\n    throw new Error(\n        `bandPart(): numLower (${numLower})` +\n        ` must not be greater than the number of rows (${M}).`);\n  }\n  if (!(numUpper <= N)) {\n    throw new Error(\n        `bandPart(): numUpper (${numUpper})` +\n        ` must not be greater than the number of columns (${N}).`);\n  }\n\n  if (numLower < 0) {\n    numLower = M;\n  }\n  if (numUpper < 0) {\n    numUpper = N;\n  }\n\n  const i = reshape(range(0, M, 1, 'int32'), [-1, 1]);\n  const j = range(0, N, 1, 'int32');\n  const ij = sub(i, j);\n\n  const inBand = logicalAnd(\n      lessEqual(ij, scalar(+numLower, 'int32')),\n      greaterEqual(ij, scalar(-numUpper, 'int32')));\n\n  const zero = zeros([M, N], $a.dtype);\n\n  return reshape(\n             stack(unstack(reshape($a, [-1, M, N]))\n                       .map(mat => where(inBand, mat, zero))),\n             shape) as T;\n}\n\nexport const bandPart = op({bandPart_});\n"},"lineCount":null}},"error":null,"hash":"d1fe74b0e2e068ebc506056aa89dc489","cacheData":{"env":{}}}